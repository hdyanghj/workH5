(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-order-form"],{"190f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{system:null,route:null,systemType:null,Timer:null,DataTimeNum:0}},methods:{Time:function(){var e=this,t=getCurrentPages();this.route=t[t.length-1].route,this.Timer=setInterval((function(){e.DataTimeNum++}),1e3)},buryingpoint:function(e){var t,i=this,n=uni.getStorageSync("user_Id");uni.getSystemInfo({success:function(e){i.systemType=e}}),t="ios"==this.systemType.platform?2:1;var a={model:this.systemType.model,version:this.systemType.version,systemVersion:this.system,userId:n,platform:t,route:this.route,name:e,ttl:this.DataTimeNum};uni.request({url:this.$webUrl+this.$buryingpoint,method:"POST",data:a,success:function(e){0==e.data.code&&(clearInterval(i.Timer),i.DataTimeNum=0)},fail:function(e){console.log(JSON.stringify(e))}})}}};t.default=n},"1dca":function(e,t,i){"use strict";i.r(t);var n=i("50ee"),a=i("7003");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"0f5ec893",null,!1,n["a"],s);t["default"]=c.exports},"1df8":function(e,t,i){"use strict";i.r(t);var n=i("6959"),a=i("bc7a");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("e365");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"888c9938",null,!1,n["a"],s);t["default"]=c.exports},"3d7e":function(e,t,i){var n=i("4854");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("1469b08a",n,!0,{sourceMap:!1,shadowMode:!1})},4854:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".course-title[data-v-888c9938]{font-size:%?28?%}.course-desc[data-v-888c9938]{font-size:%?24?%;color:#919191;line-height:%?32?%;letter-spacing:%?2?%;margin:%?10?% %?0?%}.level-view[data-v-888c9938]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:%?30?% %?0?%;padding-bottom:%?30?%}.mokuai[data-v-888c9938]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.course-level[data-v-888c9938]{font-size:%?28?%;width:%?192?%;height:%?60?%;line-height:%?60?%;text-align:center;color:#919191;background:#ebebeb;border-radius:%?8?%}.course-active[data-v-888c9938]{color:#fff;background:#1bc4db}.discount[data-v-888c9938], .discount-left[data-v-888c9938]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;font-family:SourceHanSansCN-Medium;font-weight:500;color:#484848}.discount-left[data-v-888c9938], .left-iconfont[data-v-888c9938]{font-size:%?24?%}.left-iconfont-center[data-v-888c9938]{margin:0 %?-10?%}.left-msg[data-v-888c9938]{margin-right:%?16?%}.jifen-icon[data-v-888c9938]{margin-right:%?8?%;font-size:%?40?%}.jifen-icon-yes[data-v-888c9938]{\n\t/* font-size: 41upx; */}.order-list[data-v-888c9938]{margin-top:20px;margin-bottom:%?146?%}.card[data-v-888c9938]{background:#fff;box-shadow:%?0?% %?2?% %?16?% %?0?% rgba(0,0,0,.15);border-radius:%?16?%;padding:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?60?%}.card-right[data-v-888c9938]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-flex:1;-webkit-flex:1;flex:1}.card-right uni-view[data-v-888c9938]{margin-bottom:%?10?%}.order-img[data-v-888c9938]{width:%?160?%;height:%?160?%;padding-right:%?32?%}.order-img uni-image[data-v-888c9938]{width:100%;height:100%;border-radius:%?8?%}.order-flex[data-v-888c9938]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?32?%;color:#4a4a4a}.order-date[data-v-888c9938]{font-size:%?24?%;color:#000;line-height:%?34?%}.order-id[data-v-888c9938]{font-size:%?24?%;color:#000;line-height:%?34?%}.order-price[data-v-888c9938]{margin-top:%?10?%;font-size:%?36?%;line-height:%?46?%;color:#fe5960}.operate-num[data-v-888c9938]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:#999}.operate-num uni-input[data-v-888c9938]{width:%?78?%;height:%?52?%;background:#f6f6f6;font-size:%?24?%;line-height:%?34?%;text-align:center}.operate-num uni-text[data-v-888c9938]{padding:%?0?% %?16?%;font-size:%?50?%;line-height:%?50?%}.bottom-tab[data-v-888c9938]{position:fixed;left:0;bottom:0;right:0;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;box-shadow:0 0 %?8?% #f0f2f6;font-size:%?32?%;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.bottom-tab .btn[data-v-888c9938]{width:%?400?%;height:%?106?%;line-height:%?106?%;text-align:center;background-color:#fe5960;color:#fff}.total-price[data-v-888c9938]{line-height:%?100?%;padding-left:%?44?%;-webkit-box-flex:1;-webkit-flex:1;flex:1}",""]),e.exports=t},"50ee":function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view")},o=[];i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}))},6959:function(e,t,i){"use strict";var n={buryingpoint:i("1dca").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"first-title"},[e._v("订单")]),i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",[i("v-uni-view",{staticClass:"card"},[i("v-uni-view",{staticClass:"order-img"},[i("v-uni-image",{attrs:{src:e.img,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"card-right"},[i("v-uni-view",{staticClass:"order-flex"},[i("v-uni-view",{staticClass:"order-titlle"},[e._v(e._s(e.title))]),i("v-uni-view",{staticClass:"order-num"},[e._v(e._s(e.num))])],1),i("v-uni-view",{staticClass:"order-price"},[e._v("￥"+e._s(e.price))]),2==e.type?i("v-uni-view",{staticClass:"operate-num"},[i("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.numSubstract.apply(void 0,arguments)}}},[e._v("-")]),i("v-uni-input",{attrs:{type:"text",disabled:"true"},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}}),i("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.numAdd.apply(void 0,arguments)}}},[e._v("+")])],1):e._e()],1)],1)],1),1==e.duiyingDisplay?i("v-uni-view",[i("v-uni-view",{staticClass:"course-title"},[e._v("对应课程")]),i("v-uni-view",{staticClass:"course-desc"},[e._v("请用户根据体姿测评及其结果，自行选择训练程度，以方便您准确购买")]),i("v-uni-view",{staticClass:"border-underline level-view"},e._l(e.courselevelList,(function(t,n){return i("v-uni-view",{key:n,staticClass:"course-level",class:[n==e.levelIndex?"course-active":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePostureLevel(n)}}},[e._v(e._s(t))])})),1)],1):e._e(),1==e.mokuaiDisplay?i("v-uni-view",[i("v-uni-view",{staticClass:"mokuai"},[i("v-uni-view",{staticClass:"course-title"},[e._v(e._s(e.title))]),i("v-uni-view",{staticClass:"discount-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePostureLevel(4)}}},[4==e.levelIndex?i("v-uni-view",{staticClass:"left-iconfont iconfont jifen-icon"},[e._v("")]):e._e(),4!=e.levelIndex?i("v-uni-view",{staticClass:"left-iconfont iconfont jifen-icon"},[e._v("")]):e._e()],1)],1),i("v-uni-view",{staticClass:"course-desc"},[e._v("有一定经验的用户，可自行选择购买课程模块，自行组合完成训练")])],1):e._e()],1),i("v-uni-view",{staticClass:"bottom-tab"},[i("v-uni-view",{staticClass:"total-price"},[e._v("总价：￥"+e._s(e.totalPrice))]),i("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.requestPayment.apply(void 0,arguments)}}},[e._v("立即支付")])],1),i("buryingpoint",{ref:"buryingpoint"})],1)},o=[];i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}))},7003:function(e,t,i){"use strict";i.r(t);var n=i("190f"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},bc7a:function(e,t,i){"use strict";i.r(t);var n=i("cd07"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},cd07:function(e,t,i){"use strict";var n=i("ee27");i("c975"),i("fb6a"),i("b680"),i("acd8"),i("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("1dca")),o={components:{buryingpoint:a.default},data:function(){return{totalPrice:0,num:1,img:"",title:"",date:"",price:0,type:"",fixedNum:0,orderInfo:"",jifen:!1,courselevelList:["轻度","中度","重度"],levelIndex:0,courseId:"",orderSource:"",classify:1,mokuaiDisplay:0,duiyingDisplay:0}},onLoad:function(e){this.date="00000",this.totalPrice=e.price,this.token=uni.getStorageSync("token"),this.courseId=e.id,this.title=e.name,this.type=e.type,this.img=e.img,this.price=e.price,this.orderSource=e.orderSource,this.mokuaiDisplay=e.mokuaiDisplay,this.duiyingDisplay=e.duiyingDisplay,1==this.mokuaiDisplay&&0==this.duiyingDisplay&&(this.classify=0,this.handlePostureLevel(4)),this.fixedNum=this.price.slice(this.price.indexOf(".")).length-1},onNavigationBarButtonTap:function(e){0==e.index&&uni.navigateBack({delta:1})},onShow:function(){var e=this;setTimeout((function(){e.$refs.buryingpoint.Time()}),10)},onHide:function(){this.$refs.buryingpoint.buryingpoint("课程订单")},onUnload:function(){this.$refs.buryingpoint.buryingpoint("课程订单")},methods:{handlePostureLevel:function(e){this.levelIndex=e,this.classify=4==e?0:e+1},fnChooseJifen:function(){this.jifen=!this.jifen},numSubstract:function(){this.num<=1||(this.num--,-1!=this.price.indexOf(".")?this.totalPrice=(parseFloat(this.totalPrice)-parseFloat(this.price)).toFixed(this.fixedNum):this.totalPrice=parseInt(this.totalPrice)-parseInt(this.price))},numAdd:function(){this.num++,-1!=this.price.indexOf(".")?this.totalPrice=(parseFloat(this.totalPrice)+parseFloat(this.price)).toFixed(this.fixedNum):this.totalPrice=parseInt(this.totalPrice)+parseInt(this.price)},requestPayment:function(){var e=this,t=this;uni.request({url:t.$webUrl+t.$paymentCoures,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",token:t.token},data:{itemId:t.courseId,itemName:t.title,skuPicUrl:t.img,orderType:2,totalAmount:t.price,payType:1,orderSource:t.orderSource,classify:t.classify},success:function(i){i=i.data,0==i.code?uni.request({url:t.$webUrl+t.$getUnifideOrderResult,data:{orderFee:t.totalPrice,body:"课程",orderId:i.data.orderId,orderNum:i.data.orderNum,paySource:1,userId:uni.getStorageSync("user_Id")},success:function(t){200===t.statusCode?uni.redirectTo({url:"/pages/communication/pay?fee="+e.totalPrice+"&orderId="+i.data.orderId+"&orderNum="+i.data.orderNum+"&body=课程&tarUrl=/pages/video/course-detail"}):uni.showModal({content:"获得订单信息失败",showCancel:!1})},fail:function(e){i(e)}}):utils.notLogin(i)},fail:function(){},complete:function(){}})}}};t.default=o},e365:function(e,t,i){"use strict";var n=i("3d7e"),a=i.n(n);a.a}}]);