(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-edit-person"],{1764:function(t,i,e){"use strict";e.r(i);var s=e("273d"),a=e("5116");for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("d265");var o,d=e("f0c5"),l=Object(d["a"])(a["default"],s["b"],s["c"],!1,null,"a12400e6",null,!1,s["a"],o);i["default"]=l.exports},2030:function(t,i,e){"use strict";var s=e("ee27");e("99af"),e("e25e"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(e("7cf6")),n=s(e("581f")),o=s(e("1dca")),d={components:{buryingpoint:o.default,wPicker:n.default},data:function(){for(var t=new Date,i=[],e=t.getFullYear(),s=[],a=t.getMonth()+1,n=[],o=t.getDate(),d=1950;d<=t.getFullYear();d++)i.push(d);for(var l=1;l<=12;l++)l<10?s.push("0"+l):s.push(l);for(var u=1;u<=31;u++)u<10?n.push("0"+u):n.push(u);return{isClick:!0,userAge:"",name:"",bodyHeight:"",bodyWeight:"",mediHistory:"",items:[{value:"男",checked:"true"},{value:"女"}],sex:"1",disaBled:!1,id:"",token:"",edit_Id:"",addlist:[],changeStatus:!1,mode:"date",endYear:e,years:i,month:a,day:o,defaultVal:[0,0,0,0,0,0,0]}},onShow:function(){var t=this;setTimeout((function(){t.$refs.buryingpoint.Time()}),10),this.detail()},onHide:function(){this.$refs.buryingpoint.buryingpoint("修改检测人")},onUnload:function(){this.$refs.buryingpoint.buryingpoint("修改检测人")},methods:{toggleTab:function(t,i){this.mode=t,this.defaultVal=i,this.$refs[t].show()},onConfirm:function(t){switch(this.mode){case"date":this.userAge=t.result;break}},detail:function(){var t=uni.getStorageSync("token"),i=uni.getStorageSync("user_Id"),e=uni.getStorageSync("edit_Id"),s=uni.getStorageSync("memberInfo");if(this.token=t,this.id=i,this.edit_Id=e,this.addlist=s,console.log(this.addlist),this.addlist.length)for(var a=0;a<this.addlist.length;a++)console.log(this.addlist[a]),this.addlist[a].id==this.edit_Id&&(this.name=this.addlist[a].memberName,this.userAge=this.addlist[a].birthday,this.bodyHeight=this.addlist[a].height,this.bodyWeight=this.addlist[a].weight,null!=this.addlist[a].medicalHistory&&(this.mediHistory=this.addlist[a].medicalHistory),"男"==this.addlist[a].memberSex&&(this.items[0].checked=!0,this.items[1].checked=!1,this.sex=1),"女"==this.addlist[a].memberSex&&(this.items[0].checked=!1,this.items[1].checked=!0,this.sex=2));else this.name=this.addlist.memberName,this.userAge=this.addlist.birthday,this.bodyHeight=this.addlist.height,this.bodyWeight=this.addlist.weight,null!=this.addlist.medicalHistory&&(this.mediHistory=this.addlist.medicalHistory),"男"==this.addlist.memberSex&&(this.items[0].checked=!0,this.items[1].checked=!1,this.sex=1),"女"==this.addlist.memberSex&&(this.items[0].checked=!1,this.items[1].checked=!0,this.sex=2);if(""!=this.token){var n=new Date,o=n.getFullYear(),d=n.getMonth(),l=n.getDate();this.date="".concat(o,"-").concat(d,"-").concat(l)}else uni.redirectTo({url:"../login/login"})},radioChange:function(t){"男"==t.detail.value&&(this.sex="1"),"女"==t.detail.value&&(this.sex="2")},obtainCode:function(t){var i=this;if(!1===this.changeStatus){if(this.bodyHeight=parseInt(this.bodyHeight),this.bodyHeight<40||this.bodyHeight>230)return void uni.showToast({icon:"none",title:"请输入正确身高"});if(this.bodyWeight<10||this.bodyWeight>148)return void uni.showToast({icon:"none",title:"请输入正确体重"});this.isClick=!1,setTimeout((function(){i.isClick=!0}),2e3),uni.request({url:this.$webUrl+this.$addperson,header:{"content-type":"application/x-www-form-urlencoded",token:""+this.token},data:{id:this.edit_Id,userId:this.id,memberName:this.name,memberSex:this.sex,birthday:this.userAge,height:this.bodyHeight,weight:this.bodyWeight,medicalHistory:this.mediHistory},method:"PUT",success:function(t){0==t.data.code?uni.showToast({title:"修改成功！",icon:"none",duration:2e3,success:function(t){setTimeout((function(){uni.navigateBack({delta:1})}),2e3)}}):a.default.notLogin(t.data)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}},deleteBut:function(){uni.request({url:this.$webUrl+this.$delete,header:{"content-type":"application/x-www-form-urlencoded",token:""+this.token},data:{id:this.edit_Id},method:"GET",success:function(t){0==t.data.code?uni.showToast({icon:"none",duration:3e3,title:"删除成功",success:function(t){setTimeout((function(){uni.navigateBack({delta:1})}),2e3)}}):a.default.notLogin(t.data)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}}};i.default=d},"273d":function(t,i,e){"use strict";var s={wPicker:e("581f").default,buryingpoint:e("1dca").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"body-posture"},[e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("姓名")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"text",placeholder:"请输入测试人姓名"},model:{value:t.name,callback:function(i){t.name=i},expression:"name"}})],1)],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("性别")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-radio-group",{staticClass:"radio-group",on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.radioChange.apply(void 0,arguments)}}},t._l(t.items,(function(i){return e("v-uni-label",{staticClass:"radio-list"},[e("v-uni-radio",{staticClass:"radio-list-icon",attrs:{value:i.value,checked:i.checked}}),t._v(t._s(i.value))],1)})),1)],1)],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("年龄")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-view",{staticClass:"posture-list-input"},[e("v-uni-input",{staticClass:"form-input",attrs:{type:"text",placeholder:"请您填写测试人年龄",disabled:!0},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toggleTab("date",t.userAge)}},model:{value:t.userAge,callback:function(i){t.userAge=i},expression:"userAge"}})],1)],1)],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("身高")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"number",placeholder:"请输入测试人身高"},model:{value:t.bodyHeight,callback:function(i){t.bodyHeight=i},expression:"bodyHeight"}})],1),e("v-uni-view",{staticClass:"danwei"},[t._v("CM")])],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("体重")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"number",placeholder:"请输入测试人体重"},model:{value:t.bodyWeight,callback:function(i){t.bodyWeight=i},expression:"bodyWeight"}})],1),e("v-uni-view",{staticClass:"danwei"},[t._v("KG")])],1),e("v-uni-view",{staticClass:"body-posture-list"},[e("v-uni-view",{staticClass:"posture-list-left"},[t._v("病史")]),e("v-uni-view",{staticClass:"posture-list-right"},[e("v-uni-input",{staticClass:"posture-list-input",attrs:{type:"text",placeholder:"请输入测试人病史"},model:{value:t.mediHistory,callback:function(i){t.mediHistory=i},expression:"mediHistory"}})],1)],1),e("v-uni-view",{staticClass:"login-button"},[e("v-uni-button",{staticClass:"normalButton",attrs:{disabled:t.disaBled},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isClick&&t.obtainCode()}}},[t._v("修改")])],1),e("v-uni-view",{staticClass:"login-button"},[e("v-uni-button",{staticClass:"deleteButton",attrs:{disabled:t.disaBled},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteBut()}}},[t._v("删除")])],1),e("w-picker",{ref:"date",attrs:{mode:"date",startYear:"1950",endYear:t.endYear,defaultVal:[t.years.length,t.month-1,t.day-1],current:!1,disabledAfter:!0,themeColor:"#f00"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.onConfirm.apply(void 0,arguments)}}}),e("buryingpoint",{ref:"buryingpoint"})],1)},n=[];e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}))},"429a":function(t,i,e){var s=e("da35");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("4148578f",s,!0,{sourceMap:!1,shadowMode:!1})},5116:function(t,i,e){"use strict";e.r(i);var s=e("2030"),a=e.n(s);for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a},d265:function(t,i,e){"use strict";var s=e("429a"),a=e.n(s);a.a},da35:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,".body-posture[data-v-a12400e6]{width:100%;padding:%?40?% 0 %?60?%}.body-posture-list[data-v-a12400e6]{display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?32?%;border-bottom:1px solid #efefef;padding:%?30?%;margin-bottom:%?30?%;border-radius:%?10?%;box-shadow:2px 2px 5px #efefef;position:relative}.posture-noneborder[data-v-a12400e6]{font-size:%?32?%;padding:0}.posture-tishi[data-v-a12400e6]{color:red;font-size:%?24?%;padding:%?40?% 0}.posture-tishimsg[data-v-a12400e6]{color:grey;font-size:%?24?%;padding:0 0 %?40?% 0}.posture-list-left[data-v-a12400e6]{line-height:%?50?%;padding-right:%?30?%}.posture-list-right[data-v-a12400e6]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.posture-list-input[data-v-a12400e6]{height:%?50?%;line-height:%?50?%;font-size:%?30?%;color:grey}.radio-list[data-v-a12400e6]{font-size:%?30?%;padding-right:%?60?%;color:grey}.radio-list-icon[data-v-a12400e6]{padding-right:%?10?%}.age-icon[data-v-a12400e6]{float:right;display:inline-block;font-family:texticons;color:#000}.login-button[data-v-a12400e6]{width:%?600?%;margin:0 auto;padding:%?20?%}.danwei[data-v-a12400e6]{height:%?50?%;line-height:%?50?%;position:absolute;right:%?20?%}uni-button.deleteButton[data-v-a12400e6]{border-radius:%?60?%;background:#fe5278;font-size:%?34?%;color:#fff}.deleteButton.button-hover[data-v-a12400e6]{background:#fa3f68!important}",""]),t.exports=i}}]);