(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-order-details"],{"09d4":function(e,t,i){var a=i("21cd");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("54ea9374",a,!0,{sourceMap:!1,shadowMode:!1})},"0fc3":function(e,t,i){"use strict";var a=i("ee27");i("c975"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("7cf6")),r=a(i("1dca")),s={components:{buryingpoint:r.default},data:function(){return{imgDomain:"",userId:"",token:"",orderId:"",orderList:[],tagNum:""}},onLoad:function(e){var t=this;t.orderId=e.orderId,t.token=uni.getStorageSync("token"),uni.getStorageSync("user_Id")&&(t.userId=uni.getStorageSync("user_Id")),t.imgDomain=t.$store.state.center.imgDomain,t.huoquFun()},onNavigationBarButtonTap:function(e){0==e.index&&uni.navigateBack({delta:1})},onShow:function(){var e=this;setTimeout((function(){e.$refs.buryingpoint.Time()}),10)},onHide:function(){this.$refs.buryingpoint.buryingpoint("我的订单详情")},onUnload:function(){this.$refs.buryingpoint.buryingpoint("我的订单详情")},methods:{cancelBtn:function(e){var t=this;uni.showModal({title:"取消订单",content:"您确定要取消当前订单？",success:function(i){i.confirm?uni.request({url:t.$webUrl+t.$changeOrder,header:{token:""+t.token},data:{id:e,payState:4,status:3},method:"PUT",success:function(e){if(0==e.data.code){t.huoquFun()}else o.default.notLogin(e.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}}):i.cancel}})},plyBtn:function(e,t,i,a){var r=this;if(console.log(e,t,i,a),"立即支付"==a&&uni.navigateTo({url:"/pages/communication/pay?fee="+e+"&orderId="+t+"&orderNum="+i}),"查看宝贝"==a){var s="";1==e&&(s=-1!=this.orderList.itemName.indexOf("体格发育测评")?"/pages/center/ac-quiz/growth-list":-1!=this.orderList.itemName.indexOf("营养")?"/pages/center/ac-quiz/growth-list?active=4":-1!=this.orderList.itemName.indexOf("功能")?"/pages/center/ac-quiz/growth-list?active=6":"../communication/consult-expert-detail?id="+t),2==e&&(s="../video/course-detail?courseId="+t+"&flag=1"),3==e&&(s="../video/course-detail?courseId="+t+"&flag=2"),4==e&&(s="../video/course-detail?courseId="+t+"&flag=3"),5==e&&(s="/pages/center/examination/report-list"),6==e&&(s="/pages/center/center"),7==e&&(s="/pages/center/course/appointment-list"),8==e&&(s="/pages/center/ac-quiz/growth-list?active=glcp"),9==e&&(s="/pages/center/ac-quiz/growth-list?active=sgdbcp"),10==e&&(s="/pages/center/ac-quiz/growth-list?active=tzdbcp"),11==e&&(s="/pages/center/ac-quiz/growth-list?active=szfycp"),12==e&&(s="/pages/center/ac-quiz/growth-list?active=tnzqcp"),13==e&&(s="/pages/center/ac-quiz/growth-list?active=tzhcp"),14==e&&(s="/pages/center/ac-quiz/growth-list?active=slcp"),15==e&&(s="/pages/center/ac-quiz/growth-list?active=tnzqfa"),16==e&&(s="/pages/center/ac-quiz/growth-list?active=yyzqfa"),17==e&&(s="/pages/center/ac-quiz/growth-list?active=gnzqfa"),18==e&&(s="/pages/center/ac-quiz/advisory-list"),19==e&&(s="/pages/center/ac-quiz/growth-list?active=zuozicp"),20==e&&(s="/pages/center/ac-quiz/growth-list?active=zouzicp"),21==e&&(s="/pages/center/ac-quiz/growth-list?active=paozicp"),uni.navigateTo({url:s})}"确认收货"==a&&uni.showModal({title:"取消订单",content:"您确定要取消当前订单？",success:function(e){e.confirm?uni.request({url:r.$webUrl+r.$changeOrder,header:{token:""+r.token},data:{id:t,setState:3,status:1},method:"PUT",success:function(e){0==e.data.code?r.huoquFun():o.default.notLogin(e.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}}):e.cancel}})},huoquFun:function(){var e=this;uni.request({url:e.$webUrl+e.$getOrderInfo+"/"+e.orderId,header:{token:""+e.token},method:"GET",success:function(t){if(0==t.data.code){var i=t.data.data;if(console.log(i),3==i.status&&(e.$set(i,"statusText","已取消"),e.$set(i,"playCont",!1),e.$set(i,"operationShow",!1),e.$set(i,"paymentText","应付款")),3==i.payState?(e.$set(i,"statusText","未支付"),e.$set(i,"playCont",!1),e.$set(i,"operationShow",!0),e.$set(i,"paymentText","应付款"),e.$set(i,"cancelText","取消订单"),e.$set(i,"payText","立即支付"),e.$set(i,"cancelCont",!0)):e.$set(i,"cancelCont",!1),1==i.payState&&2==i.setState&&(e.$set(i,"statusText","待发货"),e.$set(i,"operationShow",!1),e.$set(i,"paymentText","实付款"),e.$set(i,"playCont",!0)),1==i.setState&&(e.$set(i,"statusText","待收货"),e.$set(i,"paymentText","实付款"),e.$set(i,"payText","确认收货"),e.$set(i,"payClass","pay-class"),0==i.totalAmount?(e.$set(i,"operationShow",!1),e.$set(i,"playCont",!1)):(e.$set(i,"playCont",!0),e.$set(i,"operationShow",!0))),3==i.setState&&(e.$set(i,"statusText","已收货"),e.$set(i,"paymentText","实付款"),e.$set(i,"operationShow",!1),e.$set(i,"playCont",!0)),""==i.receiverName||null==i.receiverName?e.$set(i,"addressShow",!1):e.$set(i,"addressShow",!0),1==i.orderType&&e.$set(i,"typetext","咨询"),2==i.orderType&&e.$set(i,"typetext","课程"),3==i.orderType&&e.$set(i,"typetext","器材"),4==i.orderType&&e.$set(i,"typetext","课程器材套餐"),5==i.orderType&&e.$set(i,"typetext","体姿测评"),6==i.orderType&&e.$set(i,"typetext","会员套餐"),7==i.orderType&&e.$set(i,"typetext","预约课程"),8==i.orderType&&e.$set(i,"typetext","骨龄测评"),9==i.orderType&&e.$set(i,"typetext","身高测评"),10==i.orderType&&e.$set(i,"typetext","体重测评"),11==i.orderType&&e.$set(i,"typetext","生长发育"),12==i.orderType&&e.$set(i,"typetext","体能测评"),13==i.orderType&&e.$set(i,"typetext","体质测评"),14==i.orderType&&e.$set(i,"typetext","视力测评"),15==i.orderType&&e.$set(i,"typetext","健康问卷"),16==i.orderType&&e.$set(i,"typetext","营养调查问卷"),17==i.orderType&&e.$set(i,"typetext","功能调查问卷"),18==i.orderType&&e.$set(i,"typetext","专家咨询"),19==i.orderType&&e.$set(i,"typetext","坐姿测评"),20==i.orderType&&e.$set(i,"typetext","走姿测评"),21==i.orderType&&e.$set(i,"typetext","跑姿测评"),""==i.skuPicUrl||null==i.skuPicUrl)e.$set(i,"imgview",!1);else{var a=i.skuPicUrl.substring(0,4);if("http"==a){var r=e.GetUrlRelativePath(i.skuPicUrl);e.$set(i,"skuPicUrl",r)}e.$set(i,"imgview",!0)}1==i.payType&&e.$set(i,"plyText","微信支付"),2==i.payType&&e.$set(i,"plyText","支付宝支付"),e.orderList=i}else o.default.notLogin(t.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},GetUrlRelativePath:function(e){var t=e.toString(),i=t.split("//"),a=i[1].indexOf("/"),o=i[1].substring(a);return-1!=o.indexOf("?")&&(o=o.split("?")[0]),o}}};t.default=s},"190f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{system:null,route:null,systemType:null,Timer:null,DataTimeNum:0}},methods:{Time:function(){var e=this,t=getCurrentPages();this.route=t[t.length-1].route,this.Timer=setInterval((function(){e.DataTimeNum++}),1e3)},buryingpoint:function(e){var t,i=this,a=uni.getStorageSync("user_Id");uni.getSystemInfo({success:function(e){i.systemType=e}}),t="ios"==this.systemType.platform?2:1;var o={model:this.systemType.model,version:this.systemType.version,systemVersion:this.system,userId:a,platform:t,route:this.route,name:e,ttl:this.DataTimeNum};uni.request({url:this.$webUrl+this.$buryingpoint,method:"POST",data:o,success:function(e){0==e.data.code&&(clearInterval(i.Timer),i.DataTimeNum=0)},fail:function(e){console.log(JSON.stringify(e))}})}}};t.default=a},"1dca":function(e,t,i){"use strict";i.r(t);var a=i("50ee"),o=i("7003");for(var r in o)"default"!==r&&function(e){i.d(t,e,(function(){return o[e]}))}(r);var s,n=i("f0c5"),d=Object(n["a"])(o["default"],a["b"],a["c"],!1,null,"0f5ec893",null,!1,a["a"],s);t["default"]=d.exports},"21cd":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".order-list[data-v-3dad4301]{width:%?750?%}.order-list-title[data-v-3dad4301],\n.order-status[data-v-3dad4301],\n.order-address[data-v-3dad4301],\n.order-detail-cont[data-v-3dad4301]{width:%?660?%;margin:0 auto}.order-list-title[data-v-3dad4301]{padding:%?20?% 0}.order-status[data-v-3dad4301]{padding:%?20?% 0;border-bottom:1px solid #efefef;font-size:%?32?%}.order-address[data-v-3dad4301]{font-size:%?32?%;padding:%?40?% 0;line-height:%?50?%;border-bottom:1px solid #efefef}.order-address-text uni-text[data-v-3dad4301]{padding-right:%?20?%}.order-address-cont[data-v-3dad4301]{font-size:%?28?%;color:#8e8e8e}.order-detail-cont[data-v-3dad4301]{padding:%?40?% 0;border-bottom:1px solid #efefef}.order-details[data-v-3dad4301]{width:%?580?%;padding:%?40?%;margin:0 auto;border-radius:%?10?%;box-shadow:1px 1px 4px rgba(0,0,0,.2);display:-webkit-box;display:-webkit-flex;display:flex}.list-details-left[data-v-3dad4301]{width:%?120?%;height:%?120?%;padding-right:%?20?%}.list-details-left uni-image[data-v-3dad4301]{width:100%;height:100%}.list-details-right[data-v-3dad4301]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.list-details-title[data-v-3dad4301]{font-size:%?30?%;display:block;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.list-details-cont[data-v-3dad4301]{padding-top:%?10?%;font-size:%?24?%;color:#8e8e8e}.order-top[data-v-3dad4301]{padding-top:%?20?%}.order-msg-text[data-v-3dad4301]{font-size:%?28?%;line-height:%?50?%}.operation-btn[data-v-3dad4301]{width:%?750?%;height:%?88?%;background:#fe5960;display:-webkit-box;display:-webkit-flex;display:flex;position:fixed;bottom:0}.cancel-order[data-v-3dad4301],\n.pay-order[data-v-3dad4301]{width:50%;height:%?88?%;font-size:%?32?%;text-align:center;line-height:%?88?%;color:#fff}.pay-order[data-v-3dad4301]{border-left:1px solid #fff}.payable[data-v-3dad4301]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?28?%;border-bottom:0}.renminbi[data-v-3dad4301]{font-family:texticons;color:red}.pay-class .pay-order[data-v-3dad4301]{width:100%!important;border:0!important\n\t/* width: 100%!important; */}",""]),e.exports=t},"50ee":function(e,t,i){"use strict";var a,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view")},r=[];i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}))},7003:function(e,t,i){"use strict";i.r(t);var a=i("190f"),o=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},"791c":function(e,t,i){"use strict";var a=i("09d4"),o=i.n(a);o.a},"7cf6":function(e,t,i){"use strict";var a=i("ee27");i("c975"),i("ac1f"),i("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("e143")),r={downBtn:function(){setTimeout((function(){var e=window.navigator.userAgent.toLowerCase();-1!=e.indexOf("huawei")?window.location="https://appgallery.cloud.huawei.com/uowap/index.html#/detailApp/C100740675?detailType=&subsource=C100740675&referrer=&s=&shareFrom=appmarket&v=&shareTo=weixin&source=appshare&id=&locale=zh_CN&channelId=":-1!=e.indexOf("vivo")?window.location="https://h5coml.vivo.com.cn/h5coml/appdetail_h5/browser_v2/index.html?appId=2757924&resource=301&source=2":-1!=e.indexOf("xiaomi")?window.location="http://app.xiaomi.com/detail/796164":-1!=e.indexOf("iphone")?window.location="https://apps.apple.com/cn/app/%E4%BD%93%E8%AF%AD/id1460747699":window.location="https://a.app.qq.com/o/simple.jsp?pkgname=com.tiyu.app&fromcase=40003"}),500)},notLogin:function(e){console.log("登陆失效验证："),console.log(JSON.stringify(e));var t=e.code,i=e.msg||e.error;if(100005001==t||100005002==t){uni.clearStorage(),i="token不能为空"==i?"未登录":i.replace(/token/g,"登录"),uni.showToast({icon:"none",title:i,duration:1500});getCurrentPages();setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)}else 100005015==t?(console.log(t),uni.setStorageSync("vip",0),uni.showToast({icon:"none",title:i,duration:1500}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)):uni.showToast({icon:"none",title:i,duration:1500})},integralSave:function(e){var t=e.url,i=e.data,a=e.token,o=e.cb;a&&uni.request({url:t,method:"POST",header:{token:a},data:i,success:function(e){o&&o()}})},showModal:function(e,t){var i=this;uni.showModal({title:"提示",content:"注册会员，能够从任何iOS设备访问个人信息及内容，是否注册？",cancelText:"游客访问",confirmText:"注册登陆",success:function(a){a.confirm?uni.navigateTo({url:"../login/login"}):a.cancel&&i.visitorLogin({url:e,url2:t})}})},visitorLogin:function(e){var t=e.url,i=e.url2,a=this,o=plus.device.uuid;console.log(o),uni.request({url:t,data:{openId:o,unionid:o},success:function(e){console.log("获取用户信息"),console.log(JSON.stringify(e)),3==e.data.data.code?a.register(i,o):a.saveUserInfo(e.data.data)}})},register:function(e,t){var i=this;uni.request({url:e,method:"POST",data:{openid:t,unionid:t},success:function(e){console.log("注册"),console.log(JSON.stringify(e)),i.saveUserInfo(e.data.data)}})},saveUserInfo:function(e){uni.setStorage({key:"user_Info",data:{username:e.user.username,headSculpture:e.user.headSculpture,remarks:e.user.remarks,gender:e.user.gender,birthday:e.user.birthday,email:e.user.email,mobile:e.user.mobile}}),uni.setStorage({key:"user_Id",data:e.user.id}),uni.setStorage({key:"token",data:e.token}),uni.setStorage({key:"postureTestNumber",data:e.user.postureTestNumber})},statisticalClicks:function(e){var t=o.default.prototype;uni.request({url:t.$webUrl+t.$recordClicks,method:"POST",data:e,success:function(e){console.log("统计点击量 ："),console.log(e)},fail:function(e){console.log(e)}})},sharingApplet:function(e){console.log(JSON.stringify(e));var t=o.default.prototype,i=this,a=t.$userSharingRecord;void 0!=e.courseflag&&2==e.courseflag&&(a=t.$courseShareLock),uni.request({url:t.$webUrl+a,header:{token:e.token},data:{href:e.href,shareChannel:e.subMsg,shareContent:e.summary,shareImg:e.imageUrl,shareTitle:e.title,shareType:e.shareType,userId:e.userId,markId:e.id,module:e.module},method:"POST",success:function(a){console.log("分享记录"+JSON.stringify(a)),console.log(t.$webUrl),console.log(t.$userintegralrecord),i.integralSave({url:t.$webUrl+t.$userintegralrecord,data:{integralOperate:1,integralType:4,title:"分享送积分",userId:e.userId},token:e.token}),i.shareFun(e)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},shareFun:function(e){console.log("我进来了"),console.log(JSON.stringify(e)),uni.share({provider:"weixin",type:e.shareType,imageUrl:e.imageUrl,title:e.title,miniProgram:{id:"gh_bb081e4b31c9",path:e.href,type:0,webUrl:e.webHref},success:function(e){console.log(JSON.stringify(e))}})},getMembers:function(e,t,i){var a=this;uni.request({url:e,header:{"content-type":"application/x-www-form-urlencoded",token:t},data:{userId:i},method:"GET",success:function(e){if(0==e.data.code){var t=e.data.data;console.log(t),uni.setStorage({key:"memberInfo",data:t})}else a.notLogin(e.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}};t.default=r},"9a4c":function(e,t,i){"use strict";var a={buryingpoint:i("1dca").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"order-list-title"},[e._v("订单详情")]),i("v-uni-view",{staticClass:"order-status"},[e._v(e._s(e.orderList.statusText))]),e.orderList.addressShow?i("v-uni-view",{staticClass:"order-address"},[i("v-uni-view",{staticClass:"order-address-text"},[i("v-uni-text",[e._v(e._s(e.orderList.receiverName))]),e._v(e._s(e.orderList.receiverTel))],1),i("v-uni-view",{staticClass:"order-address-cont"},[e._v("地址："+e._s(e.orderList.receiverAddress))])],1):e._e(),i("v-uni-view",{staticClass:"order-detail-cont"},[i("v-uni-view",{staticClass:"order-details",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.plyBtn(e.orderList.orderType,e.orderList.itemId,e.orderList.orderNum,"查看宝贝")}}},[e.orderList.imgview?i("v-uni-view",{staticClass:"list-details-left"},[i("v-uni-image",{attrs:{src:e.imgDomain+e.orderList.skuPicUrl}})],1):e._e(),i("v-uni-view",{staticClass:"list-details-right"},[i("v-uni-view",{staticClass:"list-details-title"},[e._v(e._s(e.orderList.itemName))]),i("v-uni-view",{staticClass:"list-details-cont"},[e._v("类型："+e._s(e.orderList.typetext))]),i("v-uni-view",{staticClass:"list-details-cont"},[e._v("价格："+e._s(e.orderList.totalAmount))])],1)],1)],1),i("v-uni-view",{staticClass:"order-detail-cont"},[i("v-uni-view",{staticClass:"order-msg"},[i("v-uni-view",{staticClass:"order-msg-text"},[e._v("订单编号："+e._s(e.orderList.orderNum))]),i("v-uni-view",{staticClass:"order-msg-text"},[e._v("下单时间："+e._s(e.orderList.createDate))])],1),e.orderList.playCont?i("v-uni-view",{staticClass:"order-msg order-top"},[i("v-uni-view",{staticClass:"order-msg-text"},[e._v("支付方式："+e._s(e.orderList.plyText))]),i("v-uni-view",{staticClass:"order-msg-text"},[e._v("支付时间："+e._s(e.orderList.payTime?e.orderList.payTime:e.orderList.createDate))])],1):e._e()],1),i("v-uni-view",{staticClass:"order-detail-cont payable"},[i("v-uni-view",[e._v("应付款")]),i("v-uni-view",{staticClass:"renminbi"},[e._v(""+e._s(e.orderList.totalAmount))])],1),e.orderList.operationShow?i("v-uni-view",{staticClass:"operation-btn",class:e.orderList.payClass},[e.orderList.cancelCont?i("v-uni-view",{staticClass:"cancel-order",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelBtn(e.orderList.id)}}},[e._v(e._s(e.orderList.cancelText))]):e._e(),i("v-uni-view",{staticClass:"pay-order",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.plyBtn(e.orderList.totalAmount,e.orderList.id,e.orderList.orderNum,e.orderList.payText)}}},[e._v(e._s(e.orderList.payText))])],1):e._e(),i("buryingpoint",{ref:"buryingpoint"})],1)},r=[];i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}))},a51a:function(e,t,i){"use strict";i.r(t);var a=i("9a4c"),o=i("b8df");for(var r in o)"default"!==r&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("791c");var s,n=i("f0c5"),d=Object(n["a"])(o["default"],a["b"],a["c"],!1,null,"3dad4301",null,!1,a["a"],s);t["default"]=d.exports},b8df:function(e,t,i){"use strict";i.r(t);var a=i("0fc3"),o=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a}}]);