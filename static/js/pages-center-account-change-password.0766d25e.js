(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-account-change-password"],{"190f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{system:null,route:null,systemType:null,Timer:null,DataTimeNum:0}},methods:{Time:function(){var t=this,e=getCurrentPages();this.route=e[e.length-1].route,this.Timer=setInterval((function(){t.DataTimeNum++}),1e3)},buryingpoint:function(t){var e,i=this,n=uni.getStorageSync("user_Id");uni.getSystemInfo({success:function(t){i.systemType=t}}),e="ios"==this.systemType.platform?2:1;var s={model:this.systemType.model,version:this.systemType.version,systemVersion:this.system,userId:n,platform:e,route:this.route,name:t,ttl:this.DataTimeNum};uni.request({url:this.$webUrl+this.$buryingpoint,method:"POST",data:s,success:function(t){0==t.data.code&&(clearInterval(i.Timer),i.DataTimeNum=0)},fail:function(t){console.log(JSON.stringify(t))}})}}};e.default=n},"1dca":function(t,e,i){"use strict";i.r(e);var n=i("50ee"),s=i("7003");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);var a,r=i("f0c5"),u=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"0f5ec893",null,!1,n["a"],a);e["default"]=u.exports},3949:function(t,e,i){"use strict";var n=i("73fa"),s=i.n(n);s.a},4544:function(t,e,i){"use strict";var n={buryingpoint:i("1dca").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"login-body"},[i("v-uni-view",{staticClass:"login-title"},[t._v("请设置新密码")]),i("v-uni-view",{staticClass:"login-title-tishi"},[t._v("您可以在这里设置您的新登录密码")]),i("v-uni-view",{staticClass:"login-mobile"},[t._v("新密码")]),i("v-uni-view",{staticClass:"login-mobile-cont",class:t.passerrormsg1},[i("v-uni-view",{staticClass:"login-mobile-input"},[i("v-uni-input",{staticClass:"login-input",attrs:{type:t.passswitch1,value:t.password1},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.passwordju.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.passworddiu.apply(void 0,arguments)},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;arguments[0]=e=t.$handleEvent(e),t.passWord1.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.passWord1(e)}}})],1),i("v-uni-view",{staticClass:"login-xianshi",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.passSwitch(t.uniswitch1,t.status1)}}},[t._v(t._s(t.uniswitchtext1))]),i("v-uni-view",{staticClass:"tips"},[t._v(t._s(t.passext1))])],1),i("v-uni-view",{staticClass:"login-password"},[t._v("确认新密码")]),i("v-uni-view",{staticClass:"login-mobile-cont",class:t.passerrormsg2},[i("v-uni-view",{staticClass:"login-mobile-input"},[i("v-uni-input",{staticClass:"login-input",attrs:{type:t.passswitch2,value:t.password2},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.passju.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.passdiu.apply(void 0,arguments)},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;arguments[0]=e=t.$handleEvent(e),t.passWord2.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.passWord2(e)}}})],1),i("v-uni-view",{staticClass:"login-xianshi",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.passSwitch(t.uniswitch2,t.status2)}}},[t._v(t._s(t.uniswitchtext2))]),i("v-uni-view",{staticClass:"tips"},[t._v(t._s(t.passext2))])],1),i("v-uni-view",{staticClass:"login-button"},[i("v-uni-button",{staticClass:"normalButton",attrs:{disabled:t.disaBled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isClick&&t.buttonMethod()}}},[t._v("完成")])],1),i("buryingpoint",{ref:"buryingpoint"})],1)},o=[];i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"50ee":function(t,e,i){"use strict";var n,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view")},o=[];i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"5d37":function(t,e,i){"use strict";var n=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("7cf6")),o=n(i("1dca")),a={components:{buryingpoint:o.default},data:function(){return{isClick:!0,password1:"",passswitch1:"password",uniswitch1:1,status1:!0,uniswitchtext1:"显示",passerrormsg1:"",passext1:"密码必须为以字母开头，6-18位字母、数字。",password2:"",passswitch2:"password",uniswitch2:2,status2:!0,uniswitchtext2:"显示",passerrormsg2:"",passext2:"密码必须为以字母开头，6-18位字母、数字。",disaBled:!0,token:"",phonenumber:"",userid:"",flag:!1}},onShow:function(){var t=this;setTimeout((function(){t.$refs.buryingpoint.Time()}),10)},onHide:function(){this.$refs.buryingpoint.buryingpoint("修改登录密码")},onUnload:function(){this.$refs.buryingpoint.buryingpoint("修改登录密码")},onLoad:function(t){this.flag=t.flag,"true"==this.flag&&(this.phonenumber=t.phonenumber)},onNavigationBarButtonTap:function(t){0==t.index&&uni.navigateBack({delta:1})},mounted:function(){"true"!=this.flag&&this.loadExecution()},methods:{loadExecution:function(){this.token=uni.getStorageSync("token"),""!=this.token?(uni.getStorageSync("user_Info")&&(this.phonenumber=uni.getStorageSync("user_Info").mobile),uni.getStorageSync("user_Id")&&(this.userid=uni.getStorageSync("user_Id"))):uni.navigateTo({url:"../login/login"})},passSwitch:function(t,e){1==t&&(1==e&&(this.passswitch1="text",this.uniswitchtext1="隐藏",this.status1=!1),0==e&&(this.passswitch1="password",this.uniswitchtext1="显示",this.status1=!0)),2==t&&(1==e&&(this.passswitch2="text",this.uniswitchtext2="隐藏",this.status2=!1),0==e&&(this.passswitch2="password",this.uniswitchtext2="显示",this.status2=!0))},passWord1:function(t){var e=this;e.password1=t.detail.value,this.verification()},passWord2:function(t){var e=this;e.password2=t.detail.value,this.verification()},verification:function(){var t=this;""!=t.password1&&""!=t.password2?t.disaBled=!1:t.disaBled=!0},passwordju:function(){var t=this;t.passerrormsg1="",t.passext1="密码必须为以字母开头，6-18位字母、数字。"},passworddiu:function(){var t=this,e=/^[a-zA-Z]\w{5,17}$/;return""==t.password1?(t.passerrormsg1="errorred",void(t.passext1="密码不能为空。")):e.test(t.password1)?void 0:(t.passerrormsg1="errorred",void(t.passext1="密码必须为以字母开头，6-18位字母、数字。"))},passju:function(){var t=this;t.passerrormsg2="",t.passext2="密码必须为以字母开头，6-18位字母、数字。"},passdiu:function(){var t=this,e=/^[a-zA-Z]\w{5,17}$/;return""==t.password2?(t.passerrormsg2="errorred",void(t.passext2="密码不能为空。")):e.test(t.password2)?void 0:(t.passerrormsg2="errorred",void(t.passext2="密码必须为以字母开头，6-18位字母、数字。"))},buttonMethod:function(t){var e=this,i=this,n=i.$md5(i.password1);if(i.password1==i.password2){this.isClick=!1,setTimeout((function(){e.isClick=!0}),2e3),i.passju(),i.passdiu();var o="",a={},r="";"true"==i.flag?(o=i.$webUrl+i.$forgetPassword,a={mobile:i.phonenumber,password:n},r="POST"):(o=i.$webUrl+i.$useralter,a={mobile:i.phonenumber,password:n,id:i.userid},r="PUT"),uni.request({url:o,header:{"content-type":"application/x-www-form-urlencoded",token:""+i.token},data:a,method:r,success:function(t){if(0==t.data.code){t.data.data;if(0==t.data.code)return void uni.showToast({title:"修改成功！",icon:"none",duration:2e3,success:function(t){"true"==i.flag?uni.switchTab({url:"../center"}):setTimeout((function(){uni.navigateBack({delta:1})}),2e3)}})}else s.default.notLogin(t.data)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}else uni.showToast({icon:"none",duration:3e3,title:"两次密码输入不一致"})}}};e.default=a},"6a5b":function(t,e,i){"use strict";i.r(e);var n=i("4544"),s=i("c2a9");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("3949");var a,r=i("f0c5"),u=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"3bea8fb4",null,!1,n["a"],a);e["default"]=u.exports},7003:function(t,e,i){"use strict";i.r(e);var n=i("190f"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},"73fa":function(t,e,i){var n=i("d7eb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("fd122d36",n,!0,{sourceMap:!1,shadowMode:!1})},"7cf6":function(t,e,i){"use strict";var n=i("ee27");i("c975"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("e143")),o={downBtn:function(){setTimeout((function(){var t=window.navigator.userAgent.toLowerCase();-1!=t.indexOf("huawei")?window.location="https://appgallery.cloud.huawei.com/uowap/index.html#/detailApp/C100740675?detailType=&subsource=C100740675&referrer=&s=&shareFrom=appmarket&v=&shareTo=weixin&source=appshare&id=&locale=zh_CN&channelId=":-1!=t.indexOf("vivo")?window.location="https://h5coml.vivo.com.cn/h5coml/appdetail_h5/browser_v2/index.html?appId=2757924&resource=301&source=2":-1!=t.indexOf("xiaomi")?window.location="http://app.xiaomi.com/detail/796164":-1!=t.indexOf("iphone")?window.location="https://apps.apple.com/cn/app/%E4%BD%93%E8%AF%AD/id1460747699":window.location="https://a.app.qq.com/o/simple.jsp?pkgname=com.tiyu.app&fromcase=40003"}),500)},notLogin:function(t){console.log("登陆失效验证："),console.log(JSON.stringify(t));var e=t.code,i=t.msg||t.error;if(100005001==e||100005002==e){uni.clearStorage(),i="token不能为空"==i?"未登录":i.replace(/token/g,"登录"),uni.showToast({icon:"none",title:i,duration:1500});getCurrentPages();setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)}else 100005015==e?(console.log(e),uni.setStorageSync("vip",0),uni.showToast({icon:"none",title:i,duration:1500}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)):uni.showToast({icon:"none",title:i,duration:1500})},integralSave:function(t){var e=t.url,i=t.data,n=t.token,s=t.cb;n&&uni.request({url:e,method:"POST",header:{token:n},data:i,success:function(t){s&&s()}})},showModal:function(t,e){var i=this;uni.showModal({title:"提示",content:"注册会员，能够从任何iOS设备访问个人信息及内容，是否注册？",cancelText:"游客访问",confirmText:"注册登陆",success:function(n){n.confirm?uni.navigateTo({url:"../login/login"}):n.cancel&&i.visitorLogin({url:t,url2:e})}})},visitorLogin:function(t){var e=t.url,i=t.url2,n=this,s=plus.device.uuid;console.log(s),uni.request({url:e,data:{openId:s,unionid:s},success:function(t){console.log("获取用户信息"),console.log(JSON.stringify(t)),3==t.data.data.code?n.register(i,s):n.saveUserInfo(t.data.data)}})},register:function(t,e){var i=this;uni.request({url:t,method:"POST",data:{openid:e,unionid:e},success:function(t){console.log("注册"),console.log(JSON.stringify(t)),i.saveUserInfo(t.data.data)}})},saveUserInfo:function(t){uni.setStorage({key:"user_Info",data:{username:t.user.username,headSculpture:t.user.headSculpture,remarks:t.user.remarks,gender:t.user.gender,birthday:t.user.birthday,email:t.user.email,mobile:t.user.mobile}}),uni.setStorage({key:"user_Id",data:t.user.id}),uni.setStorage({key:"token",data:t.token}),uni.setStorage({key:"postureTestNumber",data:t.user.postureTestNumber})},statisticalClicks:function(t){var e=s.default.prototype;uni.request({url:e.$webUrl+e.$recordClicks,method:"POST",data:t,success:function(t){console.log("统计点击量 ："),console.log(t)},fail:function(t){console.log(t)}})},sharingApplet:function(t){console.log(JSON.stringify(t));var e=s.default.prototype,i=this,n=e.$userSharingRecord;void 0!=t.courseflag&&2==t.courseflag&&(n=e.$courseShareLock),uni.request({url:e.$webUrl+n,header:{token:t.token},data:{href:t.href,shareChannel:t.subMsg,shareContent:t.summary,shareImg:t.imageUrl,shareTitle:t.title,shareType:t.shareType,userId:t.userId,markId:t.id,module:t.module},method:"POST",success:function(n){console.log("分享记录"+JSON.stringify(n)),console.log(e.$webUrl),console.log(e.$userintegralrecord),i.integralSave({url:e.$webUrl+e.$userintegralrecord,data:{integralOperate:1,integralType:4,title:"分享送积分",userId:t.userId},token:t.token}),i.shareFun(t)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},shareFun:function(t){console.log("我进来了"),console.log(JSON.stringify(t)),uni.share({provider:"weixin",type:t.shareType,imageUrl:t.imageUrl,title:t.title,miniProgram:{id:"gh_bb081e4b31c9",path:t.href,type:0,webUrl:t.webHref},success:function(t){console.log(JSON.stringify(t))}})},getMembers:function(t,e,i){var n=this;uni.request({url:t,header:{"content-type":"application/x-www-form-urlencoded",token:e},data:{userId:i},method:"GET",success:function(t){if(0==t.data.code){var e=t.data.data;console.log(e),uni.setStorage({key:"memberInfo",data:e})}else n.notLogin(t.data)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}};e.default=o},c2a9:function(t,e,i){"use strict";i.r(e);var n=i("5d37"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},d7eb:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".login-body[data-v-3bea8fb4]{width:%?660?%;margin:0 auto}.login-title[data-v-3bea8fb4]{margin:0;padding-top:%?80?%;height:%?50?%;line-height:%?40?%}.login-title-tishi[data-v-3bea8fb4]{font-size:%?28?%;color:#4a4a4a;padding:%?10?% 0 %?80?% 0}.login-mobile[data-v-3bea8fb4],.login-password[data-v-3bea8fb4]{font-size:%?34?%;color:#4a4a4a}.login-mobile-cont[data-v-3bea8fb4]{width:100%;height:%?54?%;padding:%?40?% 0 %?10?%;border-bottom:1px solid #efefef;display:-webkit-box;display:-webkit-flex;display:flex;position:relative}.login-gsd[data-v-3bea8fb4]{border:1px solid #ccc;padding:%?5?% %?20?%;font-size:%?30?%}.login-mobile-input[data-v-3bea8fb4]{padding-left:%?20?%}.login-input[data-v-3bea8fb4]{width:%?540?%;font-size:%?32?%;height:%?54?%;line-height:%?54?%;border:none;outline:none}.login-password[data-v-3bea8fb4]{padding-top:%?50?%}.login-xianshi[data-v-3bea8fb4]{height:%?54?%;line-height:%?54?%;position:absolute;right:%?0?%;top:%?40?%;font-size:%?26?%;color:#03b2ca;font-family:texticons}.login-button[data-v-3bea8fb4]{padding-top:%?100?%}.login-code[data-v-3bea8fb4]{padding-top:%?40?%;font-size:%?26?%;color:#03b2ca}",""]),t.exports=e}}]);