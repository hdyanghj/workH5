(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-yanzhengma"],{"190f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{system:null,route:null,systemType:null,Timer:null,DataTimeNum:0}},methods:{Time:function(){var e=this,t=getCurrentPages();this.route=t[t.length-1].route,this.Timer=setInterval((function(){e.DataTimeNum++}),1e3)},buryingpoint:function(e){var t,n=this,i=uni.getStorageSync("user_Id");uni.getSystemInfo({success:function(e){n.systemType=e}}),t="ios"==this.systemType.platform?2:1;var o={model:this.systemType.model,version:this.systemType.version,systemVersion:this.system,userId:i,platform:t,route:this.route,name:e,ttl:this.DataTimeNum};uni.request({url:this.$webUrl+this.$buryingpoint,method:"POST",data:o,success:function(e){0==e.data.code&&(clearInterval(n.Timer),n.DataTimeNum=0)},fail:function(e){console.log(JSON.stringify(e))}})}}};t.default=i},"1dca":function(e,t,n){"use strict";n.r(t);var i=n("50ee"),o=n("7003");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);var u,r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"0f5ec893",null,!1,i["a"],u);t["default"]=s.exports},"347b":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".login-body[data-v-578752dc]{width:%?660?%;margin:0 auto}.login-title[data-v-578752dc]{margin:0}.login-mobile-cont[data-v-578752dc]{width:100%;height:%?54?%;padding:%?40?% 0 %?10?%;border-bottom:1px solid #efefef;display:-webkit-box;display:-webkit-flex;display:flex;position:relative}.login-mobile-input[data-v-578752dc]{padding-left:%?20?%}.login-mobile-input uni-input[data-v-578752dc]{height:%?54?%;line-height:%?54?%;font-size:%?32?%}.login-xianshi[data-v-578752dc]{height:%?54?%;line-height:%?54?%;position:absolute;right:%?0?%;top:%?40?%;font-size:%?26?%}.huoqu-button[data-v-578752dc]{height:%?58?%!important;border-radius:%?10?%!important;font-size:%?26?%!important;color:#03b2ca;background:none}.huoqu-button.button-hover[data-v-578752dc]{background:none}.huoqu-button[data-v-578752dc]:after{border:0}.login-tishi[data-v-578752dc]{padding-top:%?40?%;font-size:%?26?%;color:#ccc}",""]),e.exports=t},"44a0":function(e,t,n){"use strict";var i=n("e342"),o=n.n(i);o.a},"50ee":function(e,t,n){"use strict";var i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view")},a=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},"52cf":function(e,t,n){"use strict";var i={buryingpoint:n("1dca").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login-body"},[n("v-uni-view",{staticClass:"login-title"},[e._v("请输入验证码")]),n("v-uni-view",{staticClass:"login-mobile-cont"},[n("v-uni-view",{staticClass:"login-mobile-input"},[n("v-uni-input",{attrs:{type:"number",maxlength:"4"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;arguments[0]=t=e.$handleEvent(t),e.codenum.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.codenum(t)}}})],1),n("v-uni-view",{staticClass:"login-xianshi"},[n("v-uni-button",{staticClass:"huoqu-button",attrs:{disabled:e.status,loading:e.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.makeRequest.apply(void 0,arguments)}}},[e._v(e._s(e.huoqucode))])],1)],1),n("v-uni-view",{staticClass:"login-tishi"},[e._v("已经向"+e._s(e.mobilenumber)+"发送了一个验证码")]),n("buryingpoint",{ref:"buryingpoint"})],1)},a=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},7003:function(e,t,n){"use strict";n.r(t);var i=n("190f"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},"7cf6":function(e,t,n){"use strict";var i=n("ee27");n("c975"),n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("e143")),a={downBtn:function(){setTimeout((function(){var e=window.navigator.userAgent.toLowerCase();-1!=e.indexOf("huawei")?window.location="https://appgallery.cloud.huawei.com/uowap/index.html#/detailApp/C100740675?detailType=&subsource=C100740675&referrer=&s=&shareFrom=appmarket&v=&shareTo=weixin&source=appshare&id=&locale=zh_CN&channelId=":-1!=e.indexOf("vivo")?window.location="https://h5coml.vivo.com.cn/h5coml/appdetail_h5/browser_v2/index.html?appId=2757924&resource=301&source=2":-1!=e.indexOf("xiaomi")?window.location="http://app.xiaomi.com/detail/796164":-1!=e.indexOf("iphone")?window.location="https://apps.apple.com/cn/app/%E4%BD%93%E8%AF%AD/id1460747699":window.location="https://a.app.qq.com/o/simple.jsp?pkgname=com.tiyu.app&fromcase=40003"}),500)},notLogin:function(e){console.log("登陆失效验证："),console.log(JSON.stringify(e));var t=e.code,n=e.msg||e.error;if(100005001==t||100005002==t){uni.clearStorage(),n="token不能为空"==n?"未登录":n.replace(/token/g,"登录"),uni.showToast({icon:"none",title:n,duration:1500});getCurrentPages();setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)}else 100005015==t?(console.log(t),uni.setStorageSync("vip",0),uni.showToast({icon:"none",title:n,duration:1500}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)):uni.showToast({icon:"none",title:n,duration:1500})},integralSave:function(e){var t=e.url,n=e.data,i=e.token,o=e.cb;i&&uni.request({url:t,method:"POST",header:{token:i},data:n,success:function(e){o&&o()}})},showModal:function(e,t){var n=this;uni.showModal({title:"提示",content:"注册会员，能够从任何iOS设备访问个人信息及内容，是否注册？",cancelText:"游客访问",confirmText:"注册登陆",success:function(i){i.confirm?uni.navigateTo({url:"../login/login"}):i.cancel&&n.visitorLogin({url:e,url2:t})}})},visitorLogin:function(e){var t=e.url,n=e.url2,i=this,o=plus.device.uuid;console.log(o),uni.request({url:t,data:{openId:o,unionid:o},success:function(e){console.log("获取用户信息"),console.log(JSON.stringify(e)),3==e.data.data.code?i.register(n,o):i.saveUserInfo(e.data.data)}})},register:function(e,t){var n=this;uni.request({url:e,method:"POST",data:{openid:t,unionid:t},success:function(e){console.log("注册"),console.log(JSON.stringify(e)),n.saveUserInfo(e.data.data)}})},saveUserInfo:function(e){uni.setStorage({key:"user_Info",data:{username:e.user.username,headSculpture:e.user.headSculpture,remarks:e.user.remarks,gender:e.user.gender,birthday:e.user.birthday,email:e.user.email,mobile:e.user.mobile}}),uni.setStorage({key:"user_Id",data:e.user.id}),uni.setStorage({key:"token",data:e.token}),uni.setStorage({key:"postureTestNumber",data:e.user.postureTestNumber})},statisticalClicks:function(e){var t=o.default.prototype;uni.request({url:t.$webUrl+t.$recordClicks,method:"POST",data:e,success:function(e){console.log("统计点击量 ："),console.log(e)},fail:function(e){console.log(e)}})},sharingApplet:function(e){console.log(JSON.stringify(e));var t=o.default.prototype,n=this,i=t.$userSharingRecord;void 0!=e.courseflag&&2==e.courseflag&&(i=t.$courseShareLock),uni.request({url:t.$webUrl+i,header:{token:e.token},data:{href:e.href,shareChannel:e.subMsg,shareContent:e.summary,shareImg:e.imageUrl,shareTitle:e.title,shareType:e.shareType,userId:e.userId,markId:e.id,module:e.module},method:"POST",success:function(i){console.log("分享记录"+JSON.stringify(i)),console.log(t.$webUrl),console.log(t.$userintegralrecord),n.integralSave({url:t.$webUrl+t.$userintegralrecord,data:{integralOperate:1,integralType:4,title:"分享送积分",userId:e.userId},token:e.token}),n.shareFun(e)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},shareFun:function(e){console.log("我进来了"),console.log(JSON.stringify(e)),uni.share({provider:"weixin",type:e.shareType,imageUrl:e.imageUrl,title:e.title,miniProgram:{id:"gh_bb081e4b31c9",path:e.href,type:0,webUrl:e.webHref},success:function(e){console.log(JSON.stringify(e))}})},getMembers:function(e,t,n){var i=this;uni.request({url:e,header:{"content-type":"application/x-www-form-urlencoded",token:t},data:{userId:n},method:"GET",success:function(e){if(0==e.data.code){var t=e.data.data;console.log(t),uni.setStorage({key:"memberInfo",data:t})}else i.notLogin(e.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}};t.default=a},b294:function(e,t,n){"use strict";var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("7cf6")),a=i(n("1dca")),u={components:{buryingpoint:a.default},data:function(){return{loading:!1,status:!1,num:60,huoqucode:"重新获取",mobilenumber:"",phonenumber:"",flag:0}},onLoad:function(e){this.flag=e.flag},onShow:function(){var e=this;setTimeout((function(){e.$refs.buryingpoint.Time()}),10)},onHide:function(){this.$refs.buryingpoint.buryingpoint("获取验证码")},onUnload:function(){this.$refs.buryingpoint.buryingpoint("获取验证码")},mounted:function(){this.aCode()},methods:{aCode:function(){uni.getStorageSync("AreaCode").code;var e=uni.getStorageSync("AreaCode").phoneNumber;this.mobilenumber=e.substring(0,3)+"****"+e.substring(7,11),this.phonenumber=e,this.makeRequest()},makeRequest:function(){var e=this;this.loading=!0,uni.request({url:this.$msgUrl+this.$sendMessage,header:{"content-type":"application/x-www-form-urlencoded"},data:{mobile:this.phonenumber},method:"POST",success:function(t){return 0==t.data.code?(e.obtainCode(),void uni.showToast({icon:"none",duration:3e3,title:"发送成功"})):100003004==t.data.code?void uni.showToast({icon:"none",duration:3e3,title:"短信发送次数超限"}):void uni.showToast({icon:"none",duration:3e3,title:"发送失败"})},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})},complete:function(){e.loading=!1}})},codenum:function(e){var t=this,n=e.detail.value.length,i=e.detail.value,o="";o=1==this.flag?this.$webUrl+this.$validationCaptcha:this.$webUrl+this.$captchaLogin,4==n&&uni.request({url:o,header:{"content-type":"application/x-www-form-urlencoded"},data:{mobile:this.phonenumber,captcha:i},method:"POST",success:function(e){var n=e.data.data;if(0!=e.data.code)return 2==e.data.code?void uni.showToast({icon:"none",duration:3e3,title:"账号不存在"}):void uni.showToast({icon:"none",duration:3e3,title:"验证码错误"});1==t.flag?uni.navigateTo({url:"../center/account/change-password?phonenumber="+t.phonenumber+"&flag=true"}):(uni.setStorage({key:"user_Info",data:n}),uni.setStorageSync("vip",n.vip),uni.setStorageSync("user_Id",n.id),uni.setStorageSync("token",e.data.token),uni.setStorageSync("isHint",1),uni.setStorageSync("postureTestNumber",n.postureTestNumber),uni.navigateBack({delta:2}))},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})},complete:function(){t.loading=!1}})},clientId:function(e){var t=plus.push.getClientInfo(),n=t.clientid;uni.request({url:this.$webUrl+this.$bindAlias,header:{"content-type":"application/x-www-form-urlencoded",token:e},data:{clientId:n},method:"POST",success:function(e){0!=e.data.code&&o.default.notLogin(e.data)}})},obtainCode:function(){var e=this;this.status||(this.status=!0,this.loadingTiming(),this.timer=setInterval((function(){0===e.num?(e.timer&&e.clearTimer(),e.reset()):e.loadingTiming()}),1e3))},reset:function(){this.num=60,this.status=!1,this.disabled="",this.huoqucode="重新获取"},loadingTiming:function(){this.num-=1,this.huoqucode="获取中("+this.num+")"},clearTimer:function(){clearInterval(this.timer),this.timer=null}}};t.default=u},ceb3:function(e,t,n){"use strict";n.r(t);var i=n("52cf"),o=n("e81d");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("44a0");var u,r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"578752dc",null,!1,i["a"],u);t["default"]=s.exports},e342:function(e,t,n){var i=n("347b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=n("4f06").default;o("5884cc25",i,!0,{sourceMap:!1,shadowMode:!1})},e81d:function(e,t,n){"use strict";n.r(t);var i=n("b294"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a}}]);