(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-course-appointment-list"],{"190f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{system:null,route:null,systemType:null,Timer:null,DataTimeNum:0}},methods:{Time:function(){var t=this,e=getCurrentPages();this.route=e[e.length-1].route,this.Timer=setInterval((function(){t.DataTimeNum++}),1e3)},buryingpoint:function(t){var e,n=this,i=uni.getStorageSync("user_Id");uni.getSystemInfo({success:function(t){n.systemType=t}}),e="ios"==this.systemType.platform?2:1;var a={model:this.systemType.model,version:this.systemType.version,systemVersion:this.system,userId:i,platform:e,route:this.route,name:t,ttl:this.DataTimeNum};uni.request({url:this.$webUrl+this.$buryingpoint,method:"POST",data:a,success:function(t){0==t.data.code&&(clearInterval(n.Timer),n.DataTimeNum=0)},fail:function(t){console.log(JSON.stringify(t))}})}}};e.default=i},"1dca":function(t,e,n){"use strict";n.r(e);var i=n("50ee"),a=n("7003");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0f5ec893",null,!1,i["a"],r);e["default"]=l.exports},"331b":function(t,e,n){"use strict";var i=n("ed0f"),a=n.n(i);a.a},"50ee":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view")},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"56b6":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".default-fixed-title[data-v-43040411]{height:%?60?%}.fixed-title[data-v-43040411]{position:fixed;width:100%;height:%?60?%;padding:0 %?34?%;box-sizing:border-box;font-size:%?40?%;font-weight:500;color:#484848;line-height:%?60?%;background:#fff}.record[data-v-43040411]{background:#efefef;padding-bottom:%?20?%}.common-line[data-v-43040411]{background:#fff;padding:%?20?% %?34?%;border-bottom:%?1?% solid #ebebeb;font-family:SourceHanSansCN-Regular}.line-title[data-v-43040411]{font-size:%?28?%;color:#919191}.line-center1[data-v-43040411]{font-size:%?28?%;font-weight:500}.line-center1>uni-text[data-v-43040411]{float:right;font-size:%?28?%;color:#f9573c}.line-center2[data-v-43040411]{font-size:%?24?%;color:#9b9b9b;padding-top:%?10?%}.line-center3[data-v-43040411]{padding:%?30?% 0 0;font-size:%?24?%;color:#484848}.line-center3>uni-text[data-v-43040411]{float:right;color:hsla(0,0%,56.9%,.7)}.line-bottom[data-v-43040411]{font-size:%?28?%;color:#ff6562}.line-bottom>.iconfont[data-v-43040411]{float:right;color:#969696}.line-title>.iconfont[data-v-43040411]{float:right;padding:0 0 %?20?% %?40?%}",""]),t.exports=e},7003:function(t,e,n){"use strict";n.r(e);var i=n("190f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"7cf6":function(t,e,n){"use strict";var i=n("ee27");n("c975"),n("ac1f"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("e143")),o={downBtn:function(){setTimeout((function(){var t=window.navigator.userAgent.toLowerCase();-1!=t.indexOf("huawei")?window.location="https://appgallery.cloud.huawei.com/uowap/index.html#/detailApp/C100740675?detailType=&subsource=C100740675&referrer=&s=&shareFrom=appmarket&v=&shareTo=weixin&source=appshare&id=&locale=zh_CN&channelId=":-1!=t.indexOf("vivo")?window.location="https://h5coml.vivo.com.cn/h5coml/appdetail_h5/browser_v2/index.html?appId=2757924&resource=301&source=2":-1!=t.indexOf("xiaomi")?window.location="http://app.xiaomi.com/detail/796164":-1!=t.indexOf("iphone")?window.location="https://apps.apple.com/cn/app/%E4%BD%93%E8%AF%AD/id1460747699":window.location="https://a.app.qq.com/o/simple.jsp?pkgname=com.tiyu.app&fromcase=40003"}),500)},notLogin:function(t){console.log("登陆失效验证："),console.log(JSON.stringify(t));var e=t.code,n=t.msg||t.error;if(100005001==e||100005002==e){uni.clearStorage(),n="token不能为空"==n?"未登录":n.replace(/token/g,"登录"),uni.showToast({icon:"none",title:n,duration:1500});getCurrentPages();setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)}else 100005015==e?(console.log(e),uni.setStorageSync("vip",0),uni.showToast({icon:"none",title:n,duration:1500}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)):uni.showToast({icon:"none",title:n,duration:1500})},integralSave:function(t){var e=t.url,n=t.data,i=t.token,a=t.cb;i&&uni.request({url:e,method:"POST",header:{token:i},data:n,success:function(t){a&&a()}})},showModal:function(t,e){var n=this;uni.showModal({title:"提示",content:"注册会员，能够从任何iOS设备访问个人信息及内容，是否注册？",cancelText:"游客访问",confirmText:"注册登陆",success:function(i){i.confirm?uni.navigateTo({url:"../login/login"}):i.cancel&&n.visitorLogin({url:t,url2:e})}})},visitorLogin:function(t){var e=t.url,n=t.url2,i=this,a=plus.device.uuid;console.log(a),uni.request({url:e,data:{openId:a,unionid:a},success:function(t){console.log("获取用户信息"),console.log(JSON.stringify(t)),3==t.data.data.code?i.register(n,a):i.saveUserInfo(t.data.data)}})},register:function(t,e){var n=this;uni.request({url:t,method:"POST",data:{openid:e,unionid:e},success:function(t){console.log("注册"),console.log(JSON.stringify(t)),n.saveUserInfo(t.data.data)}})},saveUserInfo:function(t){uni.setStorage({key:"user_Info",data:{username:t.user.username,headSculpture:t.user.headSculpture,remarks:t.user.remarks,gender:t.user.gender,birthday:t.user.birthday,email:t.user.email,mobile:t.user.mobile}}),uni.setStorage({key:"user_Id",data:t.user.id}),uni.setStorage({key:"token",data:t.token}),uni.setStorage({key:"postureTestNumber",data:t.user.postureTestNumber})},statisticalClicks:function(t){var e=a.default.prototype;uni.request({url:e.$webUrl+e.$recordClicks,method:"POST",data:t,success:function(t){console.log("统计点击量 ："),console.log(t)},fail:function(t){console.log(t)}})},sharingApplet:function(t){console.log(JSON.stringify(t));var e=a.default.prototype,n=this,i=e.$userSharingRecord;void 0!=t.courseflag&&2==t.courseflag&&(i=e.$courseShareLock),uni.request({url:e.$webUrl+i,header:{token:t.token},data:{href:t.href,shareChannel:t.subMsg,shareContent:t.summary,shareImg:t.imageUrl,shareTitle:t.title,shareType:t.shareType,userId:t.userId,markId:t.id,module:t.module},method:"POST",success:function(i){console.log("分享记录"+JSON.stringify(i)),console.log(e.$webUrl),console.log(e.$userintegralrecord),n.integralSave({url:e.$webUrl+e.$userintegralrecord,data:{integralOperate:1,integralType:4,title:"分享送积分",userId:t.userId},token:t.token}),n.shareFun(t)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},shareFun:function(t){console.log("我进来了"),console.log(JSON.stringify(t)),uni.share({provider:"weixin",type:t.shareType,imageUrl:t.imageUrl,title:t.title,miniProgram:{id:"gh_bb081e4b31c9",path:t.href,type:0,webUrl:t.webHref},success:function(t){console.log(JSON.stringify(t))}})},getMembers:function(t,e,n){var i=this;uni.request({url:t,header:{"content-type":"application/x-www-form-urlencoded",token:e},data:{userId:n},method:"GET",success:function(t){if(0==t.data.code){var e=t.data.data;console.log(e),uni.setStorage({key:"memberInfo",data:e})}else i.notLogin(t.data)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}};e.default=o},"8e88":function(t,e,n){"use strict";var i={buryingpoint:n("1dca").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"default-fixed-title"},[n("v-uni-view",{staticClass:"fixed-title"},[t._v("我的预约")])],1),t._l(t.list,(function(e,i){return n("v-uni-view",{staticClass:"record"},[n("v-uni-view",{staticClass:"common-line line-title"},[t._v(t._s(e.createDate)),n("v-uni-text",{staticClass:"iconfont",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.delBookItem(e.id,i)}}},[t._v("")])],1),n("v-uni-view",{staticClass:"common-line line-center"},[n("v-uni-view",{staticClass:"line-center1"},[t._v(t._s(e.courseTitle)),n("v-uni-text",[t._v(t._s(2==e.status?"预约成功":3==e.status?"预约成功待支付":4==e.status?"预约失败请重新预约":5==e.status?"审核中请耐心等待":""))])],1),n("v-uni-view",{staticClass:"line-center3"},[t._v("预约上课日期："+t._s(e.bookingDate)),n("v-uni-text",{staticClass:"iconfont",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.notice.apply(void 0,arguments)}}},[t._v("")])],1)],1),n("v-uni-view",{staticClass:"common-line line-bottom",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.appointmentDetail(e.id,e.status)}}},[t._v("查看详情"),n("v-uni-text",{staticClass:"iconfont"},[t._v("")])],1)],1)})),n("uni-load-more",{attrs:{loadingType:t.loadingType,contentText:t.contentText}}),n("buryingpoint",{ref:"buryingpoint"})],2)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},9362:function(t,e,n){"use strict";var i=n("eca9"),a=n.n(i);a.a},"975f":function(t,e,n){"use strict";n.r(e);var i=n("fbe7"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},a502:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"load-more"},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[n("v-uni-view",{staticClass:"load1"},[n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}})],1),n("v-uni-view",{staticClass:"load2"},[n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}})],1),n("v-uni-view",{staticClass:"load3"},[n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}}),n("v-uni-view",{style:{background:t.color}})],1)],1),n("v-uni-text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:2===t.loadingType?t.contentText.contentnomore:t.contentText.contenterror))])],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},ab14:function(t,e,n){"use strict";n.r(e);var i=n("a502"),a=n("975f");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("9362");var r,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0f050a07",null,!1,i["a"],r);e["default"]=l.exports},b4ab:function(t,e,n){"use strict";n.r(e);var i=n("ed07"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},ca78:function(t,e,n){"use strict";n.r(e);var i=n("8e88"),a=n("b4ab");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("331b");var r,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"43040411",null,!1,i["a"],r);e["default"]=l.exports},de72:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".load-more[data-v-0f050a07]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.loading-img[data-v-0f050a07]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-0f050a07]{font-size:%?28?%;color:#777}.loading-img>uni-view[data-v-0f050a07]{position:absolute}.load1[data-v-0f050a07],\n.load2[data-v-0f050a07],\n.load3[data-v-0f050a07]{height:24px;width:24px}.load2[data-v-0f050a07]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-0f050a07]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-0f050a07]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-0f050a07 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-0f050a07]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-0f050a07]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-0f050a07]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-0f050a07]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-0f050a07]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-0f050a07]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-0f050a07]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-0f050a07]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-0f050a07]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-0f050a07]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-0f050a07]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-0f050a07]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-0f050a07{0%{opacity:1}100%{opacity:.2}}",""]),t.exports=e},eca9:function(t,e,n){var i=n("de72");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("753f3363",i,!0,{sourceMap:!1,shadowMode:!1})},ed07:function(t,e,n){"use strict";var i=n("ee27");n("99af"),n("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("7cf6")),o=i(n("ab14")),r=i(n("1dca")),s={components:{buryingpoint:r.default,uniLoadMore:o.default},data:function(){return{loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"我是有底线的"},page:1,limit:6,list:[],total:-1,token:""}},onReachBottom:function(){var t=this;this.total!=this.list.length?(this.loadingType=1,setTimeout((function(){var e=t.page;e++,t.page=e,t.getList(!0)}),500)):this.loadingType=2},onPullDownRefresh:function(){this.list=[],this.total=-1,this.getList()},onNavigationBarButtonTap:function(t){0==t.index&&uni.navigateBack({delta:1})},onLoad:function(t){this.token=uni.getStorageSync("token"),this.getList()},onShow:function(){var t=this;setTimeout((function(){t.$refs.buryingpoint.Time()}),10)},onHide:function(){this.$refs.buryingpoint.buryingpoint("预约课程列表")},onUnload:function(){this.$refs.buryingpoint.buryingpoint("预约课程列表")},methods:{notice:function(){uni.showModal({title:"提示",content:"如有疑问，请及时拨打电话：010-59361358。",success:function(t){t.confirm||t.cancel}})},getList:function(t){var e=this;uni.request({url:this.$webUrl+this.$bookcourseByPage,header:{token:this.token},data:{page:this.page,limit:this.limit},success:function(n){if(0==n.data.code){var i=n.data.data.list;e.total=n.data.data.total,e.list=t?e.list.concat(i):i,e.total==e.list.length?e.loadingType=2:e.loadingType=0,uni.stopPullDownRefresh()}else a.default.notLogin(n.data)}})},appointmentDetail:function(t,e){uni.navigateTo({url:"/pages/center/course/appointment-detail?id="+t+"&status="+e})},delBookItem:function(t,e){var n=this;uni.showModal({title:"提示",content:"确定删除这条预约记录吗？",success:function(i){i.confirm?uni.request({url:n.$webUrl+n.$delBookingcourse,method:"POST",header:{token:n.token,"content-type":"application/x-www-form-urlencoded"},data:{id:t},success:function(t){console.valueOf("删除 预约记录 结果："),0==t.data.code?n.list.splice(e,1):a.default.notLogin(t.data)}}):i.cancel}})}}};e.default=s},ed0f:function(t,e,n){var i=n("56b6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("77f72deb",i,!0,{sourceMap:!1,shadowMode:!1})},fbe7:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",contenterror:"加载错误"}}}},data:function(){return{}}};e.default=i}}]);