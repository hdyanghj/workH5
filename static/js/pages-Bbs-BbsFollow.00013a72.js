(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Bbs-BbsFollow"],{"0a40":function(t,e,i){"use strict";var a=i("2b72"),n=i.n(a);n.a},"2b72":function(t,e,i){var a=i("a8b2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("719e14b0",a,!0,{sourceMap:!1,shadowMode:!1})},"6d0c":function(t,e,i){"use strict";i.r(e);var a=i("75fa"),n=i("c274");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("0a40");var s,l=i("f0c5"),r=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"56a37e4c",null,!1,a["a"],s);e["default"]=r.exports},"75fa":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"FollowNavCont"},[i("v-uni-view",{staticClass:"FollowText",class:t.FollowListShow?"FollowEnd":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTabToChange(1)}}},[t._v("关注")]),i("v-uni-view",{staticClass:"FansText",class:t.FansListShow?"FollowEnd":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTabToChange(2)}}},[t._v("粉丝")])],1),t._l(t.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"FollowListCont"},[i("v-uni-view",{staticClass:"BbsImgCont",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleToBbsHomeDetails(e.userId)}}},[i("v-uni-image",{attrs:{src:e.avatar?e.avatar:"http://public.qilinsports.com/picture/headPortrait/default_head_portrait.png",mode:"aspectFill"}}),i("v-uni-view",[i("v-uni-view",{staticClass:"BbsLandlord"},[t._v(t._s(e.username))]),e.remarks?i("v-uni-view",{staticClass:"BbsTime"},[t._v(t._s(e.remarks))]):t._e()],1)],1),i("v-uni-view",{staticClass:"FollowListBtn",class:"关注"==e.status||"回粉"==e.status?"FansBtn":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleToFollow(e.status,e.userId,a)}}},[t._v(t._s(e.status))])],1)})),i("uni-load-more",{attrs:{loadingType:t.loadingType,contentText:t.contentText}})],2)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},"7cf6":function(t,e,i){"use strict";var a=i("ee27");i("c975"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("e143")),o={downBtn:function(){setTimeout((function(){var t=window.navigator.userAgent.toLowerCase();-1!=t.indexOf("huawei")?window.location="https://appgallery.cloud.huawei.com/uowap/index.html#/detailApp/C100740675?detailType=&subsource=C100740675&referrer=&s=&shareFrom=appmarket&v=&shareTo=weixin&source=appshare&id=&locale=zh_CN&channelId=":-1!=t.indexOf("vivo")?window.location="https://h5coml.vivo.com.cn/h5coml/appdetail_h5/browser_v2/index.html?appId=2757924&resource=301&source=2":-1!=t.indexOf("xiaomi")?window.location="http://app.xiaomi.com/detail/796164":-1!=t.indexOf("iphone")?window.location="https://apps.apple.com/cn/app/%E4%BD%93%E8%AF%AD/id1460747699":window.location="https://a.app.qq.com/o/simple.jsp?pkgname=com.tiyu.app&fromcase=40003"}),500)},notLogin:function(t){console.log("登陆失效验证："),console.log(JSON.stringify(t));var e=t.code,i=t.msg||t.error;if(100005001==e||100005002==e){uni.clearStorage(),i="token不能为空"==i?"未登录":i.replace(/token/g,"登录"),uni.showToast({icon:"none",title:i,duration:1500});getCurrentPages();setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)}else 100005015==e?(console.log(e),uni.setStorageSync("vip",0),uni.showToast({icon:"none",title:i,duration:1500}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)):uni.showToast({icon:"none",title:i,duration:1500})},integralSave:function(t){var e=t.url,i=t.data,a=t.token,n=t.cb;a&&uni.request({url:e,method:"POST",header:{token:a},data:i,success:function(t){n&&n()}})},showModal:function(t,e){var i=this;uni.showModal({title:"提示",content:"注册会员，能够从任何iOS设备访问个人信息及内容，是否注册？",cancelText:"游客访问",confirmText:"注册登陆",success:function(a){a.confirm?uni.navigateTo({url:"../login/login"}):a.cancel&&i.visitorLogin({url:t,url2:e})}})},visitorLogin:function(t){var e=t.url,i=t.url2,a=this,n=plus.device.uuid;console.log(n),uni.request({url:e,data:{openId:n,unionid:n},success:function(t){console.log("获取用户信息"),console.log(JSON.stringify(t)),3==t.data.data.code?a.register(i,n):a.saveUserInfo(t.data.data)}})},register:function(t,e){var i=this;uni.request({url:t,method:"POST",data:{openid:e,unionid:e},success:function(t){console.log("注册"),console.log(JSON.stringify(t)),i.saveUserInfo(t.data.data)}})},saveUserInfo:function(t){uni.setStorage({key:"user_Info",data:{username:t.user.username,headSculpture:t.user.headSculpture,remarks:t.user.remarks,gender:t.user.gender,birthday:t.user.birthday,email:t.user.email,mobile:t.user.mobile}}),uni.setStorage({key:"user_Id",data:t.user.id}),uni.setStorage({key:"token",data:t.token}),uni.setStorage({key:"postureTestNumber",data:t.user.postureTestNumber})},statisticalClicks:function(t){var e=n.default.prototype;uni.request({url:e.$webUrl+e.$recordClicks,method:"POST",data:t,success:function(t){console.log("统计点击量 ："),console.log(t)},fail:function(t){console.log(t)}})},sharingApplet:function(t){console.log(JSON.stringify(t));var e=n.default.prototype,i=this,a=e.$userSharingRecord;void 0!=t.courseflag&&2==t.courseflag&&(a=e.$courseShareLock),uni.request({url:e.$webUrl+a,header:{token:t.token},data:{href:t.href,shareChannel:t.subMsg,shareContent:t.summary,shareImg:t.imageUrl,shareTitle:t.title,shareType:t.shareType,userId:t.userId,markId:t.id,module:t.module},method:"POST",success:function(a){console.log("分享记录"+JSON.stringify(a)),console.log(e.$webUrl),console.log(e.$userintegralrecord),i.integralSave({url:e.$webUrl+e.$userintegralrecord,data:{integralOperate:1,integralType:4,title:"分享送积分",userId:t.userId},token:t.token}),i.shareFun(t)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},shareFun:function(t){console.log("我进来了"),console.log(JSON.stringify(t)),uni.share({provider:"weixin",type:t.shareType,imageUrl:t.imageUrl,title:t.title,miniProgram:{id:"gh_bb081e4b31c9",path:t.href,type:0,webUrl:t.webHref},success:function(t){console.log(JSON.stringify(t))}})},getMembers:function(t,e,i){var a=this;uni.request({url:t,header:{"content-type":"application/x-www-form-urlencoded",token:e},data:{userId:i},method:"GET",success:function(t){if(0==t.data.code){var e=t.data.data;console.log(e),uni.setStorage({key:"memberInfo",data:e})}else a.notLogin(t.data)},fail:function(t){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}};e.default=o},9362:function(t,e,i){"use strict";var a=i("eca9"),n=i.n(a);n.a},"975f":function(t,e,i){"use strict";i.r(e);var a=i("fbe7"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},a502:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1)],1),i("v-uni-text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:2===t.loadingType?t.contentText.contentnomore:t.contentText.contenterror))])],1)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},a8b2:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".FollowNavCont[data-v-56a37e4c]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?84?%}.FollowText[data-v-56a37e4c],\n.FansText[data-v-56a37e4c]{width:50%;height:100%;text-align:center;line-height:%?84?%;font-size:%?32?%;color:#919191}.FollowEnd[data-v-56a37e4c]{color:#1bc4db;border-bottom:%?2?% solid #1bc4db}.FollowListCont[data-v-56a37e4c]{height:%?150?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?44?%;border-bottom:%?2?% solid #ebebeb}.FollowListBtn[data-v-56a37e4c]{width:%?148?%;height:%?52?%;border-radius:%?26?%;border:%?2?% solid #1bc4db;letter-spacing:1px;font-size:%?24?%;color:#1bc4db;line-height:%?52?%;text-align:center}.BbsImgCont[data-v-56a37e4c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.BbsImgCont>uni-image[data-v-56a37e4c]{width:%?88?%;height:%?88?%;border-radius:50%;margin-right:%?14?%;margin-top:%?6?%}.BbsLandlord[data-v-56a37e4c]{font-size:%?28?%;color:rgba(0,0,0,.75);margin-top:%?4?%}.BbsTime[data-v-56a37e4c]{font-size:%?24?%;color:rgba(0,0,0,.75);margin-top:%?10?%}.FansBtn[data-v-56a37e4c]{background:#1bc4db;color:#fff}",""]),t.exports=e},ab14:function(t,e,i){"use strict";i.r(e);var a=i("a502"),n=i("975f");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("9362");var s,l=i("f0c5"),r=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"0f050a07",null,!1,a["a"],s);e["default"]=r.exports},c274:function(t,e,i){"use strict";i.r(e);var a=i("f833"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},de72:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".load-more[data-v-0f050a07]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.loading-img[data-v-0f050a07]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-0f050a07]{font-size:%?28?%;color:#777}.loading-img>uni-view[data-v-0f050a07]{position:absolute}.load1[data-v-0f050a07],\n.load2[data-v-0f050a07],\n.load3[data-v-0f050a07]{height:24px;width:24px}.load2[data-v-0f050a07]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-0f050a07]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-0f050a07]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-0f050a07 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-0f050a07]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-0f050a07]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-0f050a07]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-0f050a07]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-0f050a07]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-0f050a07]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-0f050a07]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-0f050a07]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-0f050a07]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-0f050a07]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-0f050a07]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-0f050a07]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-0f050a07]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-0f050a07{0%{opacity:1}100%{opacity:.2}}",""]),t.exports=e},eca9:function(t,e,i){var a=i("de72");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("753f3363",a,!0,{sourceMap:!1,shadowMode:!1})},f833:function(t,e,i){"use strict";var a=i("ee27");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7cf6")),o=a(i("ab14")),s={components:{uniLoadMore:o.default},data:function(){return{FollowListShow:!0,FansListShow:!1,page:1,limit:10,loadingType:0,timer:null,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"我是有底线的"},list:[]}},onNavigationBarButtonTap:function(t){0==t.index&&uni.navigateBack({delta:1})},onLoad:function(){this.getListInfo(1)},methods:{clickTabToChange:function(t){this.active=t,this.page=1,this.list=[],this.getListInfo(t)},onReachBottom:function(){this.reachBottom()},reachBottom:function(){var t=this;null!=this.timer&&clearTimeout(this.timer),0===this.loadingType&&(this.loadingType=1,this.timer=setTimeout((function(){t.getListInfo(t.active)}),1e3))},getListInfo:function(t){var e=this,i="",a={};1==t?(this.page=1,this.list=[],this.FansListShow=!1,this.FollowListShow=!0,i=this.$getAttentionList,a={page:this.page,limit:this.limit,userId:uni.getStorageSync("user_Id")}):2==t&&(this.page=1,this.list=[],this.FollowListShow=!1,this.FansListShow=!0,i=this.$getFansList,a={page:this.page,limit:this.limit,followId:uni.getStorageSync("user_Id")}),uni.request({url:this.$webUrl+i,method:"GET",data:a,success:function(t){if(t=t.data,0==t.code&&t.data.list){if(e.list.length==t.data.total)return void(e.loadingType=2);for(var i in e.page++,e.list=e.list.concat(t.data.list),e.list)0==e.list[i].status?e.list[i].status="关注":1==e.list[i].status?e.FansListShow?e.list[i].status="回粉":e.list[i].status="已关注":e.list[i].status="互相关注";e.loadingType=0,t.data.total<e.limit&&(e.loadingType=2)}else n.default.notLogin(t.data)},fail:function(t){uniApp.loadingType=2,uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},handleToFollow:function(t,e,i){var a=this,n="";"关注"==t||"回粉"==t?(n=this.$BbsUserfollow,this.setFollowState(n,e,i,t)):uni.showModal({title:"提示",content:"确认不再关注？",success:function(o){o.confirm&&(n=a.$BbsUserCancel,a.setFollowState(n,e,i,t))}})},setFollowState:function(t,e,i,a){var o=this;uni.request({url:this.$webUrl+t,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",token:uni.getStorageSync("token")},data:{userId:uni.getStorageSync("user_Id"),followId:e},success:function(t){if(0==t.data.code)for(var e in o.list)e==i&&(o.FansListShow?"回粉"==o.list[e].status?o.list[e].status="互相关注":o.list[e].status="回粉":"已关注"==o.list[e].status||"互相关注"==o.list[e].status?o.list[e].status="关注":(o.list[e].status="关注")&&(o.list[e].status="已关注"));else n.default.notLogin(t.data)},fail:function(t){uniApp.loadingType=2,uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},handleToBbsHomeDetails:function(t){uni.navigateTo({url:"/pages/Bbs/BbsHomeDetails?UserId="+t})}}};e.default=s},fbe7:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",contenterror:"加载错误"}}}},data:function(){return{}}};e.default=a}}]);