(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-info-health-file-main-share"],{1424:function(e,t,i){"use strict";var o=i("f391"),n=i.n(o);n.a},"17a2":function(e,t,i){e.exports=i.p+"static/img/health-file-main.25ffb626.png"},"1de5":function(e,t,i){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},"1e99":function(e,t,i){"use strict";i.r(t);var o=i("5702"),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},2161:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".uni-mask[data-v-2df39949]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-2df39949]{position:fixed;bottom:0;z-index:999;background-color:#fff;box-shadow:0 0 %?30?% rgba(0,0,0,.1)}.uni-popup-bottom[data-v-2df39949]{left:0;bottom:0;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.share-icon[data-v-2df39949]{width:%?80?%;height:%?80?%}.share-font[data-v-2df39949]{font-size:%?28?%;margin-top:%?10?%}.share[data-v-2df39949]{margin:%?40?% %?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}",""]),e.exports=t},5702:function(e,t,i){"use strict";var o=i("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(i("7cf6"));var n=o(i("ddda")),a={components:{share:n.default},data:function(){return{id:"",infoText:{createDate:"",proposedProjects:"",title:"",active:0},showPopupBottom:!1,shareObj:{}}},computed:{Screen_width:function(){return uni.getSystemInfoSync().windowWidth}},onLoad:function(e){this.id=e.id,this.active=e.active,this.getListInfoDetail()},onNavigationBarButtonTap:function(e){0==e.index&&uni.navigateBack({delta:1})},onBackPress:function(){if(1==this.showPopupBottom)return this.showPopupBottom=!1,!0},methods:{shareBtn:function(){this.hidePopup(),this.shareObj["href"]=this.$h5Url+"/pages/center/info/health-file-main-share?id="+this.id+"&active="+this.active,this.shareObj["title"]=this.infoText.title,this.shareObj["summary"]="该报告是评测增强方案，由专业人士给出专业建议。",this.shareObj["imageUrl"]="/static/img/tineng-baogao.png",this.shareObj["module"]=0,this.showPopupBottom=!0},hidePopup:function(){this.showPopupBottom=!1},getListInfoDetail:function(){var e=this;console.log(this.active);var t="";"tnzqfa"==this.active||"tzzqfa"==this.active?t=this.$healthquestionnaireGetInfoShare+"/":"yyzqfa"==this.active?t=this.$getNutrtionDetailDataShare:"gnzqfa"==this.active&&(t=this.$getFunctionDetailDataShare),uni.request({url:this.$webUrl+t+this.id,header:{"content-type":"application/x-www-form-urlencoded"},method:"GET",success:function(t){console.log(t);var i=t.data.data;if(i.createDate){var o=i.createDate.substring(0,10);e.infoText.createDate=o}if(i.proposedProjects&&(e.infoText.proposedProjects=i.proposedProjects),"yyzqfa"==e.active)e.infoText.title="营养增强方案";else if("gnzqfa"==e.active)e.infoText.title="功能增强方案";else if(i.addSource){var n=i.addSource.substring(0,4);"幼儿体能"!=n&&"国家体育"!=n||(e.infoText.title="体能增强方案"),"国民体质"!=n&&"国家学生"!=n&&"中考体育"!=n||(e.infoText.title="体质增强方案")}},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}}};t.default=a},"5f1b":function(e,t,i){var o=i("8503");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=i("4f06").default;n("4e10ed4b",o,!0,{sourceMap:!1,shadowMode:!1})},"6f56":function(e,t,i){"use strict";var o=i("5f1b"),n=i.n(o);n.a},"7cf6":function(e,t,i){"use strict";var o=i("ee27");i("c975"),i("ac1f"),i("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("e143")),a={downBtn:function(){setTimeout((function(){var e=window.navigator.userAgent.toLowerCase();-1!=e.indexOf("huawei")?window.location="https://appgallery.cloud.huawei.com/uowap/index.html#/detailApp/C100740675?detailType=&subsource=C100740675&referrer=&s=&shareFrom=appmarket&v=&shareTo=weixin&source=appshare&id=&locale=zh_CN&channelId=":-1!=e.indexOf("vivo")?window.location="https://h5coml.vivo.com.cn/h5coml/appdetail_h5/browser_v2/index.html?appId=2757924&resource=301&source=2":-1!=e.indexOf("xiaomi")?window.location="http://app.xiaomi.com/detail/796164":-1!=e.indexOf("iphone")?window.location="https://apps.apple.com/cn/app/%E4%BD%93%E8%AF%AD/id1460747699":window.location="https://a.app.qq.com/o/simple.jsp?pkgname=com.tiyu.app&fromcase=40003"}),500)},notLogin:function(e){console.log("登陆失效验证："),console.log(JSON.stringify(e));var t=e.code,i=e.msg||e.error;if(100005001==t||100005002==t){uni.clearStorage(),i="token不能为空"==i?"未登录":i.replace(/token/g,"登录"),uni.showToast({icon:"none",title:i,duration:1500});getCurrentPages();setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)}else 100005015==t?(console.log(t),uni.setStorageSync("vip",0),uni.showToast({icon:"none",title:i,duration:1500}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)):uni.showToast({icon:"none",title:i,duration:1500})},integralSave:function(e){var t=e.url,i=e.data,o=e.token,n=e.cb;o&&uni.request({url:t,method:"POST",header:{token:o},data:i,success:function(e){n&&n()}})},showModal:function(e,t){var i=this;uni.showModal({title:"提示",content:"注册会员，能够从任何iOS设备访问个人信息及内容，是否注册？",cancelText:"游客访问",confirmText:"注册登陆",success:function(o){o.confirm?uni.navigateTo({url:"../login/login"}):o.cancel&&i.visitorLogin({url:e,url2:t})}})},visitorLogin:function(e){var t=e.url,i=e.url2,o=this,n=plus.device.uuid;console.log(n),uni.request({url:t,data:{openId:n,unionid:n},success:function(e){console.log("获取用户信息"),console.log(JSON.stringify(e)),3==e.data.data.code?o.register(i,n):o.saveUserInfo(e.data.data)}})},register:function(e,t){var i=this;uni.request({url:e,method:"POST",data:{openid:t,unionid:t},success:function(e){console.log("注册"),console.log(JSON.stringify(e)),i.saveUserInfo(e.data.data)}})},saveUserInfo:function(e){uni.setStorage({key:"user_Info",data:{username:e.user.username,headSculpture:e.user.headSculpture,remarks:e.user.remarks,gender:e.user.gender,birthday:e.user.birthday,email:e.user.email,mobile:e.user.mobile}}),uni.setStorage({key:"user_Id",data:e.user.id}),uni.setStorage({key:"token",data:e.token}),uni.setStorage({key:"postureTestNumber",data:e.user.postureTestNumber})},statisticalClicks:function(e){var t=n.default.prototype;uni.request({url:t.$webUrl+t.$recordClicks,method:"POST",data:e,success:function(e){console.log("统计点击量 ："),console.log(e)},fail:function(e){console.log(e)}})},sharingApplet:function(e){console.log(JSON.stringify(e));var t=n.default.prototype,i=this,o=t.$userSharingRecord;void 0!=e.courseflag&&2==e.courseflag&&(o=t.$courseShareLock),uni.request({url:t.$webUrl+o,header:{token:e.token},data:{href:e.href,shareChannel:e.subMsg,shareContent:e.summary,shareImg:e.imageUrl,shareTitle:e.title,shareType:e.shareType,userId:e.userId,markId:e.id,module:e.module},method:"POST",success:function(o){console.log("分享记录"+JSON.stringify(o)),console.log(t.$webUrl),console.log(t.$userintegralrecord),i.integralSave({url:t.$webUrl+t.$userintegralrecord,data:{integralOperate:1,integralType:4,title:"分享送积分",userId:e.userId},token:e.token}),i.shareFun(e)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})},shareFun:function(e){console.log("我进来了"),console.log(JSON.stringify(e)),uni.share({provider:"weixin",type:e.shareType,imageUrl:e.imageUrl,title:e.title,miniProgram:{id:"gh_bb081e4b31c9",path:e.href,type:0,webUrl:e.webHref},success:function(e){console.log(JSON.stringify(e))}})},getMembers:function(e,t,i){var o=this;uni.request({url:e,header:{"content-type":"application/x-www-form-urlencoded",token:t},data:{userId:i},method:"GET",success:function(e){if(0==e.data.code){var t=e.data.data;console.log(t),uni.setStorage({key:"memberInfo",data:t})}else o.notLogin(e.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}};t.default=a},8503:function(e,t,i){var o=i("24fb"),n=i("1de5"),a=i("17a2");t=o(!1);var s=n(a);t.push([e.i,".banner[data-v-0320dd2c]{width:%?660?%;height:%?242?%;padding:%?160?% %?45?% 0;background:#1bc4db url("+s+") 100% 100% no-repeat;background-size:70% auto;border-radius:0 0 16px 16px;color:#fff}.first-title uni-text[data-v-0320dd2c]{margin-left:%?20?%;font-size:%?28?%;color:#fa7268}.first-Cont[data-v-0320dd2c]{font-size:%?24?%;line-height:1.8}.hf-main[data-v-0320dd2c]{width:%?580?%;padding:%?40?%;min-height:%?600?%;background:#fff;margin:%?-80?% auto 0;border-radius:%?20?%;font-size:%?28?%;line-height:1.5;box-shadow:0 1px 10px 0 rgba(0,0,0,.25)}.body-main[data-v-0320dd2c]{padding-bottom:%?80?%}",""]),e.exports=t},b0d3:function(e,t,i){"use strict";i.r(t);var o=i("de81"),n=i("1e99");for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("6f56");var s,r=i("f0c5"),u=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"0320dd2c",null,!1,o["a"],s);t["default"]=u.exports},b7af:function(e,t,i){"use strict";i.r(t);var o=i("ec77"),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},c011:function(e,t,i){"use strict";var o,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"uni-mask",style:{top:e.offsetTop+"px"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.hide.apply(void 0,arguments)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"uni-popup uni-popup-bottom"},e._l(e.shareChannel,(function(t,o){return i("v-uni-view",{key:o,staticClass:"share",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.handleToShare(t.channel,t.subMsg)}}},[i("v-uni-view",[i("v-uni-image",{staticClass:"share-icon",attrs:{src:t.iconfont,mode:""}})],1),i("v-uni-view",{staticClass:"share-font"},[e._v(e._s(t.subMsg))])],1)})),1)],1)},a=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return o}))},ddda:function(e,t,i){"use strict";i.r(t);var o=i("c011"),n=i("b7af");for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("1424");var s,r=i("f0c5"),u=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"2df39949",null,!1,o["a"],s);t["default"]=u.exports},de81:function(e,t,i){"use strict";var o={share:i("ddda").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"body-main"},[i("v-uni-view",{staticClass:"banner"},[i("v-uni-view",{staticClass:"first-title",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.shareBtn.apply(void 0,arguments)}}},[e._v(e._s(e.infoText.title)),i("v-uni-text",{staticClass:"iconfont",staticStyle:{"padding-left":"20upx"}},[e._v("")])],1),i("v-uni-view",{staticClass:"first-Cont"},[e._v("完成日期："+e._s(e.infoText.createDate))])],1),i("v-uni-view",{staticClass:"hf-main"},[i("v-uni-text",[e._v(e._s(e.infoText.proposedProjects))])],1),i("share",{attrs:{integralType:"4",show:e.showPopupBottom,obj:e.shareObj},on:{hidePopup:function(t){arguments[0]=t=e.$handleEvent(t),e.hidePopup.apply(void 0,arguments)}}})],1)},a=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return o}))},ec77:function(e,t,i){"use strict";var o=i("ee27");i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("7cf6")),a={props:{show:{type:Boolean,default:!1},integralType:[String,Number],obj:Object},data:function(){var e=0;return e=44,{offsetTop:e,shareChannel:[{iconfont:"/static/weixinShare.svg",channel:"WXSceneSession",subMsg:"微信好友"},{iconfont:"/static/friendShare.svg",channel:"WXSenceTimeline",subMsg:"微信朋友圈"}]}},methods:{hide:function(){this.$emit("hidePopup")},handleToShare:function(e,t){var i=this,o=uni.getStorageSync("token"),a=uni.getStorageSync("user_Id"),s=this.obj["href"],r=this.obj["title"],u=this.obj["summary"],c=this.obj["imageUrl"],l=this.obj["id"],d=this.obj["module"],f=this.$userSharingRecord;if(void 0!=this.obj["courselock"]&&1==this.obj["courselock"]){this.obj["courselock"];f=this.$courseShareLock}console.log("courselock:"+this.obj["courselock"]),console.log(f),uni.request({url:this.$webUrl+f,header:{token:o},data:{href:s,shareChannel:t,shareContent:u,shareImg:c,shareTitle:r,shareType:0,userId:a,markId:l,module:d},method:"POST",success:function(t){0==t.data.code?(n.default.integralSave({url:i.$webUrl+i.$userintegralrecord,data:{integralOperate:1,integralType:i.integralType,title:2==i.integralType?"邀请好友送积分":"分享送积分",userId:a},token:o}),uni.share({provider:"weixin",scene:e,type:0,href:s,title:r,summary:u,imageUrl:c,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail:"+JSON.stringify(e))},complete:function(){i.$emit("hidePopup")}})):n.default.notLogin(t.data)},fail:function(e){uni.showToast({icon:"none",duration:3e3,title:"网络连接不稳定，请检查网络"})}})}}};t.default=a},f391:function(e,t,i){var o=i("2161");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=i("4f06").default;n("de925d3c",o,!0,{sourceMap:!1,shadowMode:!1})}}]);